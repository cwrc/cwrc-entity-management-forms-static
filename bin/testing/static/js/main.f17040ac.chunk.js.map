{"version":3,"sources":["static/images/Logo_White.png","static/images/Logo.png","static/images/cwrc_logo_full_white_300.png","containers/App/style.jsx","components/elements/Logo/index.jsx","components/parts/Footer/style.jsx","components/parts/Footer/index.jsx","styles/utils.jsx","components/parts/Header/style.jsx","styles/base.jsx","routing/history.js","containers/Dashboard/index.jsx","containers/NotFound/style.jsx","containers/EntityForm/components/SegmentRepeater.jsx","containers/EntityForm/components/FormControls.jsx","containers/EntityForm/components/FieldValidation.js","containers/EntityForm/components/NameParts.jsx","containers/EntityForm/components/LanguageSelector.jsx","api/utils/simpleFetch.js","api/utils/index.js","containers/EntityForm/components/ProjectSelector.jsx","containers/EntityForm/components/VariantNames.jsx","containers/EntityForm/components/EntityLookup.jsx","containers/EntityForm/components/IdentityGroup.jsx","containers/EntityForm/components/NotesGroup.jsx","containers/EntityForm/components/DateRepeater.jsx","containers/EntityForm/components/MessageDialog.jsx","selectors/index.js","api/CollectionsSvc/index.js","containers/EntityForm/components/CollectionsDialog.jsx","containers/EntityForm/components/options.js","api/utils/conversion_utilities.js","api/EntitiesSvc/Person/json2xml.js","api/EntitiesSvc/Person/xml2json.js","api/EntitiesSvc/Organization/xml2json.js","api/EntitiesSvc/Place/xml2json.js","api/EntitiesSvc/index.js","api/EntitiesSvc/Place/json2xml.js","api/EntitiesSvc/Organization/json2xml.js","actions/entities/index.js","containers/EntityForm/Person/components/PersonForm.jsx","containers/EntityForm/Person/index.jsx","static/countries.js","containers/EntityForm/Place/components/PlaceForm.jsx","containers/EntityForm/Place/index.jsx","containers/EntityForm/Organization/components/OrganizationForm.jsx","containers/EntityForm/Organization/index.jsx","routing/routes.js","components/parts/Header/index.jsx","actions/layout/index.js","components/addons/RoutingWrapper/index.jsx","reducers/layout/index.js","reducers/entities/index.js","actions/utils/awral.js","actions/utils/index.js","api/AuthSvc/index.js","actions/auth/index.js","api/LocalStorageCookiesSvc/index.js","reducers/auth/index.js","reducers/index.js","actions/common/index.js","index.js","app/configureStore/index.js","styles/theme.jsx"],"names":["module","exports","PageLayout","styled","div","MainLayout","props","theme","primaryTextColor","primaryColorText","MainContent","main","MainContainer","Sidebar","Pusher","isloggedin","ismobile","css","Pushable","Container","Dimmer","LogoLarge","rest","logoImg","require","Image","src","StyledFooter","footer","primaryColorLight","Footer","href","target","rel","alt","sizes","_","mapValues","xs","sm","md","lg","xl","value","key","media","StyledHeader","header","primaryColor","primaryColorDark","HeaderInner","PageTitle","span","Button","Spacer","process","BROWSER","createBrowserHistory","createMemoryHistory","Dashboard","Helmet","List","Item","as","Link","to","renderSegment","fields","RepeatableComponent","headerLabel","componentLabel","meta","touched","error","submitFailed","Segment","secondary","clearing","basic","style","padding","floated","Popup","size","position","trigger","type","color","icon","onClick","push","content","map","name","index","Grid","Column","width","remove","SegmentRepeater","fieldArrayName","FieldArray","component","InputField","input","label","labelText","required","inline","Form","Field","htmlFor","id","Input","Label","pointing","DropdownComponent","Dropdown","selection","onChange","param","data","DropdownAddableComponent","state","options","handleAddition","e","setState","text","this","search","allowAdditions","onAddItem","React","Component","undefined","latitude","latFloat","parseFloat","isNaN","longitude","longFloat","isDate","match","dateRange","isRange","q1","qualifier1","q2","qualifier2","d1","date1","d2","date2","m1","moment","replace","m2","isSameOrAfter","isAfter","isBefore","NameParts","nameOptions","columns","Row","verticalAlign","validate","placeholder","langOptions","lang","isoVal","iso6392T","iso6392B","sort","a","b","langSearch","query","re","RegExp","escapeRegExp","filter","opt","test","LanguageSelector","scrolling","get","requestWrapper","post","put","method","url","body","JSON","stringify","request","headers","mode","credentials","fetch","parseJSON","res","json","status","ok","parseXML","parse","parser","DOMParser","xml","parseFromString","isFetched","fetchedProjects","ProjectSelector","projects","then","obj","nid","title","catch","err","console","warn","changeFunc","optional","event","newVal","prevVal","find","project","VariantNames","variantOptions","stackable","Divider","geonames","username","cwrc","setEntityRoot","setSearchRoot","PublicEntityDialog","showCreateNewButton","showNoLinkButton","registerEntitySources","person","Map","set","viaf","wikidata","getty","dbpedia","place","organization","EntityLookup","hasLookup","handleSearchClick","entityType","popSearch","parentEl","document","querySelector","success","result","uri","repository","log","handleClearClick","renderName","field","marginBottom","renderURI","display","overflow","textOverflow","buttonLabel","includeCertainty","certaintyOptions","includeClear","entityLabel","charAt","toUpperCase","slice","Icon","IdentityGroup","Group","substring","DescriptiveNoteComponent","rows","DescriptiveNote","ProjectNoteComponent","ProjectNote","dateQualifierOptions","dateRangeQualifierOptions","dateTypeOptions","marginTop","stretched","DateRepeater","MessageDialog","modalOpen","handleOpen","handleClose","onClose","call","Modal","open","closeOnDimmerClick","Header","Content","Actions","getLayoutMobileStatuses","createSelector","layout","innerWidth","isMobileSM","isMobileXS","isMobile","getUrlParameter","results","exec","decodeURIComponent","getEntityId","routing","location","isPersonPostDone","entities","isPersonPostPending","isPersonPostError","getPersonPostError","getPersonPostData","isPersonGetDone","isPersonGetPending","isPersonGetError","getPersonGetError","getPersonGetData","isPersonPutDone","isPersonPutPending","isPersonPutError","getPersonPutError","getPersonPutData","isPlacePostDone","isPlacePostPending","isPlacePostError","getPlacePostError","getPlacePostData","isPlaceGetDone","isPlaceGetPending","isPlaceGetError","getPlaceGetError","getPlaceGetData","isPlacePutDone","isPlacePutPending","isPlacePutError","getPlacePutError","getPlacePutData","isOrganizationPostDone","isOrganizationPostPending","isOrganizationPostError","getOrganizationPostError","getOrganizationPostData","isOrganizationGetDone","isOrganizationGetPending","isOrganizationGetError","getOrganizationGetError","getOrganizationGetData","isOrganizationPutDone","isOrganizationPutPending","isOrganizationPutError","getOrganizationPutError","getOrganizationPutData","IS_NODE","navigator","userAgent","toLowerCase","indexOf","getCollectionId","collectionId","window","getCollectionIdFromURL","Cookies","setCollectionId","expires","path","getCollections","response","docs","collections","d","PID","fgs_label_s","CollectionsDialog","loading","handleChange","handleCancel","close","length","filteredCollections","collection","closeOnEscape","closeOnDocumentClick","fluid","factualityOptions","genderOptions","personNameTypeOptions","personVariantTypeOptions","personDateTypeOptions","nonPersonVariantTypeOptions","nonPersonDateTypeOptions","createXMLFromPath","parent","childText","currParent","tags","split","tag","hasAtt","tagName","el","ownerDocument","createElementNS","attName","attValue","lastIndexOf","setAttribute","appendChild","createTextNode","getDateString","date","month","getMonth","day","getDate","year","getFullYear","padStart","join","addIdentityXML","identityEl","values","identity","standardName","standardNameEl","namePartsLang","parentElement","setAttributeNS","nameParts","namePartEl","namePart","namePartType","variants","variant","variantEl","variantType","noteEl","encodeURIComponent","parts","part","sameAs","sameAsEl","idno","cert","addNotesXML","description","descriptiveNote","note","projectNote","addSourcesXML","sources","bibl","listBibl","biblEl","ref","addIdentityJSON","firstElementChild","textContent","getAttribute","prefName","querySelectorAll","forEach","orgName","index2","addNotesJSON","firstChild","addSourcesJSON","xml2json","xmlDoc","dates","nodeName","properties","trait","factuality","gender","sex","occupation","nationality","affiliation","org","address","country","region","geo","latLong","getXmlFromJson","dateTypeEl","dateEl","traitEl","sexEl","occ","occEl","nat","natEl","aff","affEl","json2xmlPerson","descEl","locEl","addressEl","removeChild","json2xmlPlace","json2xmlOrganization","xmlStr","XMLSerializer","serializeToString","isEntityLocked","locked","getPerson","Error","xml2jsonPerson","postPerson","collectionPID","tei","putPerson","getPlace","xml2jsonPlace","postPlace","putPlace","getOrganization","xml2jsonOrganization","postOrganization","putOrganization","POST_PERSON","payload","PUT_PERSON","GET_PERSON","POST_PLACE","PUT_PLACE","GET_PLACE","POST_ORGANIZATION","PUT_ORGANIZATION","GET_ORGANIZATION","PersonComponent","closeForm","channel","BroadcastChannel","postMessage","doSampleLoad","dispatch","initialize","entityId","nextProps","nextState","initialValues","np","vr","handleSubmit","invalid","submitting","pid","bind","active","inverted","Loader","message","onSubmit","change","multiple","Message","textAlign","disabled","connect","reduxForm","form","errors","PersonEdit","login","PersonForm","PlaceComponent","countries","PlaceEdit","PlaceForm","OrganizationComponent","OrganizationEdit","OrganizationForm","routeRoot","routingFnCreator","useFor","sidebarExternalLinks","routes","exact","Route","Person","nameEdit","Place","Organization","fns","sidebar","x","concat","sidebarVisible","pick","all","getRoutes","getMetaRoutes","getRouterRoutes","withRouter","pathname","currentRoute","matchPath","toggleSidebar","isLoggedIn","onlyRealRoutes","onlyRedirects","routesToRender","routesRendered","i","Tag","Switch","initialState","sidebarOpened","promiseReducers","PENDING","REJECTED","action","FULFILLED","personGet","typeToReducer","personPut","personPost","placeGet","placePut","placePost","organizationGet","organizationPut","organizationPost","Awral","asyncFunction","ACTION_NAME","args","getState","basicArgs","apply","defaultArgs","failBeforePending","failBeforePendingPayload","fail","pending","fnPayload","isSuccess","check","transformResult","finally","resolve","awral","ofFn","newBehaviours","behaviours","bindedAwral","of","actions","ids","reduce","Object","assign","getDefaultBehaviours","token","awralLogin","combineReducers","auth","routerReducer","reduxFormReducer","__INITIAL_STATE__","history","store","middlewares","next","localError","thunk","routerMiddleware","promiseMiddleware","enhancers","applyMiddleware","composedEnhancers","compose","createStore","rootReducer","configureStore","render","Date","now","accentColor","secondaryTextColor","dividerColor","getElementById"],"mappings":"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","file":"static/js/main.f17040ac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo_White.5ee3c5eb.png\";","module.exports = __webpack_public_path__ + \"static/media/Logo.af27906b.png\";","module.exports = \"data:image/png;base64,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\"","import styled, {css} from 'styled-components'\nimport {Dimmer, Sidebar, Container} from 'semantic-ui-react'\n\nexport const PageLayout = styled.div`\n\theight: 100%;\n`\n\nexport const MainLayout = styled.div`\n\tmin-height: calc(100% - 72px);\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor: ${props => props.theme.primaryTextColor};\n\tbackground-color: ${props => props.theme.primaryColorText};\n`\n\nexport const MainContent = styled.main`\n\tflex-grow: 1;\n\tmin-height: calc(100% - 72px);\n\tdisplay: flex;\n\tflex-direction: column;\n`\n\nexport const SidebarSemanticPusherStyled = styled(Sidebar.Pusher)`\n\theight: 100%;\n\t-webkit-overflow-scrolling: touch;\n\t${({isloggedin, ismobile}) => {\n\t\t// using `ismobile` attr instead of `media` util is much smoother\n\t\treturn (\n\t\t\tisloggedin &&\n\t\t\t!ismobile &&\n\t\t\tcss`\n\t\t\t\tmax-width: calc(100% - 150px);\n\t\t\t\t`\n\t\t)\n\t}};\n`\n\nexport const SidebarSemanticPushableStyled = styled(Sidebar.Pushable)`\n\tdisplay: initial;\n\t> .pusher {\n\t\toverflow: visible !important;\n\t}\n`\n\nexport const MainContainer = styled(Container)`\n\tpadding-left: 1rem;\n\tpadding-right: 1rem;\n\tmargin-top: 2em;\n\tmargin-bottom: 1em;\n\tflex-direction: column;\n\tdisplay: flex !important;\n\tflex-grow: 1;\n\t& > *:last-child {\n\t\tflex-grow: 1;\n\t}\n`\n\nexport const StyledDimmer = styled(Dimmer)`\n\tz-index: 55 !important;\n\tcursor: pointer;\n`\n","// @flow\nimport React from 'react'\nimport {Image as ImageComponent} from 'semantic-ui-react'\n\nconst LogoSmall = ({\n\twhite,\n\t...rest\n}: any) => {\n\tlet logoImg\n\tif (white === true) {\n\t\tlogoImg = require('../../../static/images/Logo_White.png')\n\t} else {\n\t\tlogoImg = require('../../../static/images/Logo.png')\n\t}\n\treturn <ImageComponent src={logoImg} {...rest} />\n}\n\nconst LogoLarge = ({\n\t...rest\n}: any) => {\n\tconst logoImg = require('../../../static/images/cwrc_logo_full_white_300.png')\n\treturn <ImageComponent src={logoImg} {...rest} />\n}\n\nexport {LogoSmall, LogoLarge}\n","import styled from 'styled-components'\n\nexport const StyledFooter = styled.footer`\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: ${props => props.theme.primaryColorLight};\n\tcolor: ${props => props.theme.primaryTextColor};\n\theight: 80px;\n\tmin-height: 80px;\n\tpadding: 1rem;\n`\n","/**\n * @flow\n */\nimport React from 'react'\nimport {LogoLarge} from '../../elements/Logo'\nimport {StyledFooter} from './style'\n\nconst Footer = () => {\n\treturn (\n\t\t<StyledFooter>\n\t\t\t<a href='https://cwrc.ca' target='_blank' rel='noopener noreferrer'>\n\t\t\t\t<LogoLarge alt='CWRC / CSC: Canadian Writing Research Collaboratory' />\n\t\t\t</a>\n\t\t</StyledFooter>\n\t)\n}\n\nexport default Footer\n","import {css} from 'styled-components'\nimport _ from 'lodash'\n\nconst pxToEm = px => {\n\treturn px / 16 + 'em'\n}\n\nconst iWantToUseEm = true\n// NOTE: This grid don't match SUI's grid.\n// NOTE: RSUI has <Responsive> element!\n// You might don't need media template function for styled-components\nconst sizes = _.mapValues(\n\t{\n\t\txs: 0, // Extra small screen / phone\n\t\tsm: 480, // Small screen / phone\n\t\tmd: 768, // Medium screen / tablet\n\t\tlg: 1024, // Large screen / desktop\n\t\txl: 1200 // Extra large screen / wide desktop\n\t},\n\t(value, key) => {\n\t\t// NOTE: Please, read more about `em` before switching\n\t\t// https://stackoverflow.com/questions/22228568/switching-to-em-based-media-queries\n\t\treturn iWantToUseEm ? pxToEm(value) : value + 'px'\n\t}\n)\n\n// NOTE: @Metnew: this block may be rewritten more elegant (like the code below, from off docs)\nexport const media = {\n\txs: (...args) => css`\n\t  @media only screen and (max-width: ${sizes.sm}) {\n\t    ${css(...args)}\n\t  }\n\t`,\n\tsm: (...args) => css`\n\t  @media only screen and (max-width: ${sizes.md}) {\n\t    ${css(...args)}\n\t  }\n\t`,\n\tsmOnly: (...args) => css`\n\t\t@media only screen and (max-width: ${sizes.sm}) and (min-width: ${sizes.xs}) {\n\t\t\t${css(...args)}\n\t\t}\n\t`,\n\tmd: (...args) => css`\n\t  @media only screen and (max-width: ${sizes.lg}) {\n\t    ${css(...args)}\n\t  }\n\t`,\n\tmdOnly: (...args) => css`\n\t\t@media only screen and (max-width: ${sizes.md}) and (min-width: ${sizes.sm}) {\n\t\t\t${css(...args)}\n\t\t}\n\t`,\n\tlg: (...args) => css`\n\t  @media only screen and (min-width: ${sizes.lg}) {\n\t    ${css(...args)}\n\t  }\n\t`,\n\tlgOnly: (...args) => css`\n\t\t@media only screen and (max-width: ${sizes.xl}) and (min-width: ${sizes.lg}) {\n\t\t\t${css(...args)}\n\t\t}\n\t`,\n\txl: (...args) => css`\n\t  @media only screen and (min-width: ${sizes.xl}) {\n\t    ${css(...args)}\n\t  }\n\t`\n}\n","import styled from 'styled-components'\nimport {media} from '../../../styles/utils'\nimport {Button} from 'semantic-ui-react'\nexport const StyledHeader = styled.header`\n\tbackground: ${props => props.theme.primaryColor};\n\tborder-bottom: 1px solid ${props => props.theme.primaryColorDark};\n\tbox-shadow: inset 0 0 0 0 ${props => props.theme.primaryColorDark},\n\t\t0 2px 1px 0 ${props => props.theme.primaryColorDark};\n\tcolor: ${props => props.theme.primaryColorText};\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\twidth: 100%;\n\tz-index: 444;\n\theight: 72px;\n`\n\nexport const HeaderInner = styled.div`\n\tdisplay: flex;\n\tpadding: 0 15px;\n`\n\nexport const PageTitle = styled.span`\n\tline-height: 1;\n\tfont-size: 24px;\n\talign-items: center;\n\tdisplay: flex;\n`\n\nexport const Navicon = styled.span`\n\twidth: 48px;\n\theight: 48px;\n\tpadding: 12px;\n\tline-height: 1;\n\tfont-size: 24px;\n\tdisplay: none;\n\t${media.md`\n\t\tdisplay: block;\n\t`};\n`\n\nexport const HeaderButton = styled(Button)`\n\t&#header-button {\n\t\talign-self: center;\n\t\tbox-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n\t\tcolor: ${props => props.theme.primaryColorText}!important;\n\t\tbackground-color: ${props => props.theme.primaryColorDark}!important;\n\t}\n`\n","import styled from 'styled-components'\n\nexport const Spacer = styled.span`flex-grow: 1;`\n","// @flow\nimport {createBrowserHistory, createMemoryHistory} from 'history'\nconst selectedHistory = process.env.BROWSER ? createBrowserHistory : createMemoryHistory\n\nexport const history = selectedHistory()\n","// @flow\nimport React from 'react'\nimport {Helmet} from 'react-helmet'\nimport {List} from 'semantic-ui-react'\nimport {Link} from 'react-router-dom'\n\nconst Dashboard = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Helmet>\n\t\t\t\t<title>CWRC Entity Management</title>\n\t\t\t</Helmet>\n\t\t\t<List>\n\t\t\t\t<List.Item as={Link} to='./person'>Create Person</List.Item>\n\t\t\t\t<List.Item as={Link} to='./place'>Create Place</List.Item>\n\t\t\t\t<List.Item as={Link} to='./organization'>Create Organization</List.Item>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","import styled from 'styled-components'\n\nexport const NotFoundLayout = styled.div`\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n`\n","// @flow\nimport React from 'react'\nimport {\n\tHeader,\n\tGrid,\n\tButton,\n\tSegment,\n\tPopup\n} from 'semantic-ui-react'\nimport {FieldArray} from 'redux-form'\n\nconst SegmentRepeater = ({\n\tfieldArrayName,\n\tcomponentLabel,\n\tRepeatableComponent,\n\t...rest\n}: any) => {\n\treturn (\n\t\t<FieldArray\n\t\t\tname={fieldArrayName}\n\t\t\tprops={{RepeatableComponent, componentLabel}}\n\t\t\tcomponent={renderSegment}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nconst renderSegment = ({\n\tfields,\n\tRepeatableComponent,\n\theaderLabel,\n\tcomponentLabel,\n\tmeta: {touched, error, submitFailed},\n\t...rest\n}: any) => (\n\t<Segment secondary>\n\t\t<Segment clearing basic style={{padding: 0}}>\n\t\t\t<Header as=\"h4\" floated='left'>{headerLabel}</Header>\n\t\t\t<Popup size='tiny' position='right center' trigger={\n\t\t\t\t<Button type=\"button\" floated='right' size='tiny' color='grey' icon='plus' onClick={() => fields.push({})}/>\n\t\t\t} content={`Add ${componentLabel}`} />\n\t\t</Segment>\n\t\t{fields.map((name, index) => (\n\t\t\t<Segment key={index} clearing>\n\t\t\t\t<Grid>\n\t\t\t\t\t<Grid.Column width={15}>\n\t\t\t\t\t\t<RepeatableComponent name={name} {...rest}/>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t<Grid.Column width={1}>\n\t\t\t\t\t\t<Popup size='tiny' position='right center' trigger={\n\t\t\t\t\t\t\t<Button type=\"button\" floated=\"right\" size='tiny' color='red' icon='minus' onClick={() => fields.remove(index)}/>\n\t\t\t\t\t\t} content={`Remove ${componentLabel}`} />\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t</Grid>\n\t\t\t</Segment>\n\t\t))}\n\t</Segment>\n)\n\nexport default SegmentRepeater\n","// @flow\nimport React from 'react'\nimport {\n\tForm,\n\tLabel,\n\tDropdown,\n\tInput as InputComponent\n} from 'semantic-ui-react'\n\nconst InputField = ({\n\tinput,\n\tlabel,\n\tlabelText = null,\n\trequired,\n\twidth,\n\tfloated,\n\tinline,\n\tsize,\n\tmeta: {touched, error},\n\t...rest\n}: any) => (\n\t<Form.Field error={!!(touched && error)} inline={inline} required={required} floated={floated}>\n\t\t<label htmlFor={rest.id || rest.name || ''}>{label}</label>\n\t\t<InputComponent\n\t\t\tlabel={labelText}\n\t\t\t{...input}\n\t\t\t{...rest}\n\t\t/>\n\t\t{touched && error ? (\n\t\t\t<Label basic color=\"red\" pointing={inline ? 'left' : 'above'}>\n\t\t\t\t{error}\n\t\t\t</Label>\n\t\t) : null}\n\t</Form.Field>\n)\n\nconst DropdownComponent = ({\n\tinput,\n\tlabel,\n\tmeta: {touched, error},\n\trequired,\n\twidth,\n\tfloated,\n\t...rest\n}: any) => (\n\t<Form.Field error={!!(touched && error)} required={required} inline floated={floated} width={width}>\n\t\t<label htmlFor={rest.id || rest.name || ''}>{label}</label>\n\t\t<Dropdown\n\t\t\t{...input}\n\t\t\t{...rest}\n\t\t\tselection\n\t\t\tfloated={floated}\n\t\t\tvalue={input.value}\n\t\t\tonChange={(param, data) => { input.onChange(data.value) }}\n\t\t/>\n\t\t{touched && error ? (\n\t\t\t<Label basic color=\"red\" pointing=\"left\">\n\t\t\t\t{error}\n\t\t\t</Label>\n\t\t) : null}\n\t</Form.Field>\n)\n\n/**\n * Allows for the addition of custom values\n */\nclass DropdownAddableComponent extends React.Component<Props, State> {\n\tstate = {options: this.props.options}\n\n\thandleAddition = (e, {value}) => {\n\t\tthis.setState({\n\t\t\toptions: [{text: value, value}, ...this.state.options]\n\t\t})\n\t}\n\n\trender () {\n\t\tconst {\n\t\t\tinput,\n\t\t\tlabel,\n\t\t\tmeta: {touched, error},\n\t\t\trequired,\n\t\t\twidth,\n\t\t\tfloated,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst options = this.state.options\n\t\treturn (\n\t\t\t<Form.Field error={!!(touched && error)} required={required} inline floated={floated} width={width}>\n\t\t\t\t<label htmlFor={rest.id || rest.name || ''}>{label}</label>\n\t\t\t\t<Dropdown\n\t\t\t\t\t{...input}\n\t\t\t\t\t{...rest}\n\t\t\t\t\tselection\n\t\t\t\t\tsearch\n\t\t\t\t\tallowAdditions\n\t\t\t\t\toptions={options}\n\t\t\t\t\tfloated={floated}\n\t\t\t\t\tvalue={input.value}\n\t\t\t\t\tonChange={(param, data) => { input.onChange(data.value) }}\n\t\t\t\t\tonAddItem={this.handleAddition}\n\t\t\t\t/>\n\t\t\t\t{touched && error ? (\n\t\t\t\t\t<Label basic color=\"red\" pointing>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</Label>\n\t\t\t\t) : null}\n\t\t\t</Form.Field>\n\t\t)\n\t}\n}\n\nexport {InputField, DropdownComponent, DropdownAddableComponent}\n","// @flow\nimport moment from 'moment'\n\nexport const required = value => {\n\tif (value === '' || value === null || value === undefined) {\n\t\treturn 'Required'\n\t} else {\n\t\treturn undefined\n\t}\n}\n\nexport const latitude = value => {\n\tif (value !== undefined) {\n\t\tlet latFloat = parseFloat(value)\n\t\tif (isNaN(latFloat)) {\n\t\t\treturn 'Not a number'\n\t\t} else if (latFloat < 0 || latFloat > 90) {\n\t\t\treturn 'Out of bounds (0 <= x <= 90)'\n\t\t}\n\t}\n\treturn undefined\n}\n\nexport const longitude = value => {\n\tif (value !== undefined) {\n\t\tlet longFloat = parseFloat(value)\n\t\tif (isNaN(longFloat)) {\n\t\t\treturn 'Not a number'\n\t\t} else if (longFloat < -180 || longFloat > 180) {\n\t\t\treturn 'Out of bounds (-180 <= x <= 180)'\n\t\t}\n\t}\n\treturn undefined\n}\n\nexport const isDate = value => {\n\tif (value !== undefined) {\n\t\tif (value.match(/^\\d{4}-\\d{2}-\\d{2}$/) !== null) {\n\t\t\treturn undefined\n\t\t}\n\t\tif (value.match(/^\\d{4}-\\d{2}$/) !== null) {\n\t\t\treturn undefined\n\t\t}\n\t\tif (value.match(/^\\d{4}$/) !== null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn 'Not a valid date'\n\t}\n\treturn undefined\n}\n\nexport const dateRange = (dateRange: Object) => {\n\tif (dateRange.isRange) {\n\t\tconst q1 = dateRange.qualifier1\n\t\tconst q2 = dateRange.qualifier2\n\t\tif (q1 !== undefined && q2 !== undefined) {\n\t\t\tif (q1 === q2) return {qualifier2: 'No duplicate qualifiers'}\n\t\t\tconst d1 = dateRange.date1\n\t\t\tconst d2 = dateRange.date2\n\t\t\tif (d1 !== undefined && d2 !== undefined && isDate(d1) === undefined && isDate(d2) === undefined) {\n\t\t\t\tconst m1 = moment(d1.replace(/-/g, '/'))\n\t\t\t\tconst m2 = moment(d2.replace(/-/g, '/'))\n\t\t\t\tif (q1 === 'from-iso' && q2 === 'to-iso' && m1.isSameOrAfter(m2)) return {date2: 'To date must occur after From date'}\n\t\t\t\tif (q2 === 'from-iso' && q1 === 'to-iso' && m2.isSameOrAfter(m1)) return {date2: 'From date must occur before To date'}\n\t\t\t\tif (q1 === 'from-iso' && q2 === 'notAfter-iso' && m1.isAfter(m2)) return {date2: 'Not After date must occur after From date'}\n\t\t\t\tif (q2 === 'from-iso' && q1 === 'notAfter-iso' && m2.isAfter(m1)) return {date2: 'From date must occur before Not After date'}\n\t\t\t\tif (q1 === 'from-iso' && q2 === 'notBefore-iso' && m1.isBefore(m2)) return {date2: 'Not Before date must occur before From date'}\n\t\t\t\tif (q2 === 'from-iso' && q1 === 'notBefore-iso' && m2.isBefore(m1)) return {date2: 'From date must occur after Not Before date'}\n\t\t\t\tif (q1 === 'notBefore-iso' && q2 === 'notAfter-iso' && m1.isAfter(m2)) return {date2: 'Not After date must occur after Not Before date'}\n\t\t\t\tif (q2 === 'notBefore-iso' && q1 === 'notAfter-iso' && m2.isAfter(m1)) return {date2: 'Not Before date must occur before Not After date'}\n\t\t\t\tif (q1 === 'notBefore-iso' && q2 === 'to-iso' && m1.isAfter(m2)) return {date2: 'To date must occur after Not Before date'}\n\t\t\t\tif (q2 === 'notBefore-iso' && q1 === 'to-iso' && m2.isAfter(m1)) return {date2: 'Not Before date must occur before To date'}\n\t\t\t\tif (q1 === 'notAfter-iso' && q2 === 'to-iso' && m1.isAfter(m2)) return {date2: 'To date must occur before Not After date'}\n\t\t\t\tif (q2 === 'notAfter-iso' && q1 === 'to-iso' && m2.isAfter(m1)) return {date2: 'Not After date must occur after To date'}\n\t\t\t}\n\t\t}\n\t}\n\treturn undefined\n}\n","// @flow\nimport React from 'react'\nimport {\n\tGrid\n} from 'semantic-ui-react'\nimport {Field} from 'redux-form'\nimport {InputField, DropdownAddableComponent} from './FormControls'\nimport {required} from './FieldValidation'\n\nconst NameParts = ({\n\tname,\n\tnameOptions\n}: any) => (\n\t<Grid columns='equal'>\n\t\t<Grid.Row verticalAlign='middle'>\n\t\t\t<Grid.Column>\n\t\t\t\t<Field\n\t\t\t\t\trequired\n\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\tinline\n\t\t\t\t\tlabel='Name Part'\n\t\t\t\t\tname={`${name}.value`}\n\t\t\t\t\tplaceholder='Name Part'\n\t\t\t\t\tcomponent={InputField}\n\t\t\t\t/>\n\t\t\t</Grid.Column>\n\t\t\t<Grid.Column width={6}>\n\t\t\t\t{nameOptions === null\n\t\t\t\t\t? <Field\n\t\t\t\t\t\tname={`${name}.type`}\n\t\t\t\t\t\tlabel='Name Type'\n\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\tinline\n\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t/>\n\t\t\t\t\t: <Field\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\tname={`${name}.type`}\n\t\t\t\t\t\toptions={nameOptions}\n\t\t\t\t\t\tlabel='Name Type'\n\t\t\t\t\t\tplaceholder='Name Type'\n\t\t\t\t\t\tcomponent={DropdownAddableComponent}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</Grid.Column>\n\t\t</Grid.Row>\n\t</Grid>\n)\n\nexport default NameParts\n","// @flow\nimport React from 'react'\nimport {Field} from 'redux-form'\nimport {DropdownComponent} from './FormControls'\nimport _ from 'lodash'\n\nimport iso6392 from 'iso-639-2'\n\nconst langOptions = iso6392.map(lang => {\n\tconst isoVal = lang.iso6392T === null ? lang.iso6392B : lang.iso6392T\n\treturn {\n\t\ttext: lang.name,\n\t\tvalue: isoVal,\n\t\tkey: isoVal\n\t}\n})\n\nlangOptions.sort((a, b) => {\n\tif (a.text > b.text) {\n\t\treturn 1\n\t}\n\tif (a.text < b.text) {\n\t\treturn -1\n\t}\n\treturn 0\n})\n\nconst langSearch = (options: array, query: string) => {\n\tconst re = new RegExp('^' + _.escapeRegExp(query), 'i')\n\tlet filteredOptions = _.filter(options, opt =>\n\t\tre.test(opt.text)\n\t)\n\treturn filteredOptions\n}\n\nconst LanguageSelector = ({\n\tinput,\n\t...rest\n}: any) => (\n\t<Field\n\t\t{...input}\n\t\t{...rest}\n\t\tsearch={langSearch}\n\t\tscrolling\n\t\toptions={langOptions}\n\t\tplaceholder='Optional'\n\t\tcomponent={DropdownComponent}/>\n)\n\nexport default LanguageSelector\n","/**\n * @flow\n * @file Simple fetch wrapper\n */\nimport fetch from 'isomorphic-fetch'\n\n// USAGE:\nexport const get = requestWrapper('GET')\n// get('https://www.google.com')\nexport const post = requestWrapper('POST')\n// post('https://www.google.com', data)\nexport const put = requestWrapper('PUT')\n// put('https://www.google.com', data)\n\n// Create request wrapper for certain method\nfunction requestWrapper (method: 'GET' | 'POST' | 'DELETE' | 'PUT' | 'PATCH') {\n\t// Creates request to `url` with `data`\n\treturn async (url: string, data: any = null) => {\n\t\tconst body = data ? {body: JSON.stringify(data)} : {}\n\n\t\tconst request = {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json'\n\t\t\t},\n\t\t\tmode: process.env.NODE_ENV === 'development' ? 'cors' : 'same-origin',\n\t\t\tcredentials: 'same-origin',\n\t\t\t...body\n\t\t}\n\n\t\treturn fetch(url, request)\n\t}\n}\n","// @flow\nexport {get, post, put} from './simpleFetch'\n\nexport const parseJSON = async function (res: Response): Object {\n\tconst data = await res.json()\n\tconst {status, ok} = res\n\treturn {data, ok, status}\n}\n\nexport const parseXML = async function (res: Response): Object {\n\tlet text = await res.text()\n\ttry {\n\t\ttext = JSON.parse(text)\n\t} catch (e) {\n\t}\n\tconst parser = new DOMParser()\n\tconst xml = parser.parseFromString(text, 'text/xml')\n\tconst {status, ok} = res\n\treturn {data: xml, ok, status}\n}\n","// @flow\nimport React from 'react'\nimport {Field} from 'redux-form'\nimport {DropdownComponent} from './FormControls'\nimport {get, parseJSON} from '../../../api/utils'\nimport {required} from './FieldValidation'\n\nlet isFetched = false\nlet fetchedProjects = []\n\nclass ProjectSelector extends React.Component<Props, State> {\n\t// static propTypes = {\n\t// \tname: String,\n\t// \tlabel: String\n\t// }\n\tstate = {\n\t\tprojects: []\n\t}\n\n\tstatic isFetched = false\n\n\tcomponentDidMount () {\n\t\tif (!isFetched) {\n\t\t\tget(process.env.REACT_APP_ENTITIES_HOST + '/projects/json-lookup').then(parseJSON).then(res => {\n\t\t\t\tconst projects = []\n\t\t\t\tfor (let key in res.data) {\n\t\t\t\t\tconst obj = res.data[key]\n\t\t\t\t\tprojects.push({\n\t\t\t\t\t\tkey: 'node/' + obj.nid,\n\t\t\t\t\t\tvalue: 'node/' + obj.nid,\n\t\t\t\t\t\ttext: obj.title\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tprojects.sort((a, b) => {\n\t\t\t\t\tif (a.text > b.text) {\n\t\t\t\t\t\treturn 1\n\t\t\t\t\t}\n\t\t\t\t\tif (a.text < b.text) {\n\t\t\t\t\t\treturn -1\n\t\t\t\t\t}\n\t\t\t\t\treturn 0\n\t\t\t\t})\n\t\t\t\tthis.setState({projects})\n\t\t\t\tisFetched = true\n\t\t\t\tfetchedProjects = projects\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.warn('error fetching projects!', err)\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({projects: fetchedProjects})\n\t\t}\n\t}\n\n\trender () {\n\t\tconst name = this.props.name\n\t\tconst label = this.props.label\n\t\tconst changeFunc = this.props.changeFunc\n\t\tconst optional = this.props.optional\n\n\t\treturn (\n\t\t\t<Field\n\t\t\t\tname={`${name}.value`}\n\t\t\t\tlabel={label}\n\t\t\t\toptions={this.state.projects}\n\t\t\t\tplaceholder={optional ? 'Optional' : 'Select Project'}\n\t\t\t\trequired={!optional}\n\t\t\t\tvalidate={optional ? [] : [required]}\n\t\t\t\tcomponent={DropdownComponent}\n\t\t\t\tonChange={(event, newVal, prevVal) => {\n\t\t\t\t\tconst match = fetchedProjects.find(project => {\n\t\t\t\t\t\treturn project.value === newVal\n\t\t\t\t\t})\n\t\t\t\t\tchangeFunc(`${name}.title`, match.text)\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default ProjectSelector\n","// @flow\nimport React from 'react'\nimport {Field} from 'redux-form'\nimport {Grid, Header, Divider} from 'semantic-ui-react'\nimport {DropdownAddableComponent} from '../components/FormControls'\nimport SegmentRepeater from '../components/SegmentRepeater'\nimport NameParts from '../components/NameParts'\nimport LanguageSelector from '../components/LanguageSelector'\nimport ProjectSelector from '../components/ProjectSelector'\nimport {required} from '../components/FieldValidation'\n\nconst VariantNames = ({\n\tname,\n\tvariantOptions,\n\tnameOptions,\n\tchangeFunc\n}: any) => (\n\t<div>\n\t\t<Header as=\"h4\">Variant Name</Header>\n\t\t<Grid stackable>\n\t\t\t<Grid.Column width={6}>\n\t\t\t\t<Field\n\t\t\t\t\tname={`${name}.type`}\n\t\t\t\t\trequired\n\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\tlabel='Variant Type'\n\t\t\t\t\toptions={variantOptions}\n\t\t\t\t\tplaceholder='Select Type'\n\t\t\t\t\tcomponent={DropdownAddableComponent}/>\n\t\t\t</Grid.Column>\n\t\t\t<Grid.Column width={5}>\n\t\t\t\t<ProjectSelector\n\t\t\t\t\tname={`${name}.project`}\n\t\t\t\t\tlabel='Project'\n\t\t\t\t\toptional={true}\n\t\t\t\t\tchangeFunc={changeFunc}\n\t\t\t\t/>\n\t\t\t</Grid.Column>\n\t\t\t<Grid.Column width={5}>\n\t\t\t\t<LanguageSelector\n\t\t\t\t\tname={`${name}.lang`}\n\t\t\t\t\tlabel=\"Language\"/>\n\t\t\t</Grid.Column>\n\t\t</Grid>\n\t\t<Divider/>\n\t\t<SegmentRepeater\n\t\t\tfieldArrayName={`${name}.parts`}\n\t\t\theaderLabel=\"Components\"\n\t\t\tcomponentLabel=\"Component\"\n\t\t\tnameOptions={nameOptions}\n\t\t\tRepeatableComponent={NameParts}\n\t\t/>\n\t</div>\n)\n\nexport default VariantNames\n","// @flow\nimport React from 'react'\nimport {\n\tGrid, Button, Popup, Icon, Header\n} from 'semantic-ui-react'\nimport {Field} from 'redux-form'\nimport {DropdownComponent} from '../components/FormControls'\n\nimport '../../../static/bootstrap/bootstrap-scoped.css'\n\nimport cwrc from 'cwrc-tei-entities-lookup'\nimport viaf from 'viaf-entity-lookup'\nimport dbpedia from 'dbpedia-entity-lookup'\nimport wikidata from 'wikidata-entity-lookup'\nimport getty from 'getty-entity-lookup'\nimport geonames from 'geonames-entity-lookup'\n\nimport PublicEntityDialog from 'cwrc-public-entity-dialogs'\n\ngeonames.credentials.username = 'cwrcgeonames';\n\ncwrc.setEntityRoot(`${process.env.REACT_APP_ENTITIES_HOST}/islandora/object`)\ncwrc.setSearchRoot(`${process.env.REACT_APP_ENTITIES_HOST}/islandora/cwrc_entities/v1`)\n\nPublicEntityDialog.showCreateNewButton(false)\nPublicEntityDialog.showNoLinkButton(false)\nPublicEntityDialog.registerEntitySources({\n\tperson: (new Map()).set('cwrc', cwrc).set('viaf', viaf).set('wikidata', wikidata).set('getty', getty).set('dbpedia', dbpedia),\n\tplace: (new Map()).set('geonames', geonames).set('cwrc', cwrc).set('viaf', viaf).set('dbpedia', dbpedia).set('wikidata', wikidata),\n\torganization: (new Map()).set('cwrc', cwrc).set('viaf', viaf).set('wikidata', wikidata).set('dbpedia', dbpedia),\n\ttitle: (new Map()).set('cwrc', cwrc).set('viaf', viaf).set('wikidata', wikidata).set('dbpedia', dbpedia)\n})\n\nclass EntityLookup extends React.Component<Props, State> {\n\tstate = { hasLookup: false }\n\n\thandleSearchClick = () => {\n\t\tconst name = this.props.name\n\t\tconst entityType = this.props.entityType\n\t\tconst changeFunc = this.props.changeFunc\n\n\t\tPublicEntityDialog.popSearch[entityType]({\n\t\t\tquery: '',\n\t\t\tparentEl: document.querySelector('body'),\n\t\t\tsuccess: (result) => {\n\t\t\t\tchangeFunc(`${name}.name`, result.name)\n\t\t\t\tchangeFunc(`${name}.idno`, result.uri)\n\t\t\t\tchangeFunc(`${name}.type`, result.repository)\n\t\t\t\tthis.setState({ hasLookup: true })\n\t\t\t},\n\t\t\terror: (error) => {\n\t\t\t\tconsole.log(error)\n\t\t\t}\n\t\t})\n\t}\n\n\thandleClearClick = () => {\n\t\tconst name = this.props.name\n\t\tconst changeFunc = this.props.changeFunc\n\t\tchangeFunc(`${name}.name`, '')\n\t\tchangeFunc(`${name}.idno`, '')\n\t\tchangeFunc(`${name}.type`, '')\n\t\tthis.setState({ hasLookup: false })\n\t}\n\n\trenderName = (field) => (\n\t\t<Header as='h5' style={{marginBottom: '0.2em'}}>{field.input.value}</Header>\n\t)\n\n\trenderURI = (field) => {\n\t\tif (field.input.value !== undefined) {\n\t\t\treturn <a href={field.input.value} style={{display: 'block', overflow: 'hidden', textOverflow: 'ellipsis'}} target='_blank' rel=\"noopener noreferrer\">{field.input.value}</a>\n\t\t} else {\n\t\t\treturn ''\n\t\t}\n\t}\n\n\trender () {\n\t\tconst name = this.props.name\n\t\tconst buttonLabel = this.props.buttonLabel\n\t\tconst includeCertainty = this.props.includeCertainty\n\t\tconst certaintyOptions = this.props.certaintyOptions\n\t\tconst includeClear = this.props.includeClear\n\t\tconst entityType = this.props.entityType\n\t\tconst entityLabel = entityType.charAt(0).toUpperCase() + entityType.slice(1)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t<Grid.Row verticalAlign='top'>\n\t\t\t\t\t\t{this.state.hasLookup === false &&\n\t\t\t\t\t\t<Grid.Column width={4}>\n\t\t\t\t\t\t\t<Button type=\"button\" size='tiny' color='grey' onClick={() => this.handleSearchClick()}>\n\t\t\t\t\t\t\t\t<Icon name='search' />{buttonLabel}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<Field name={`${name}.name`} component={this.renderName} />\n\t\t\t\t\t\t\t<Field name={`${name}.idno`} component={this.renderURI} />\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t{includeCertainty &&\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<Field name={`${name}.cert`}\n\t\t\t\t\t\t\t\tlabel='Certainty' placeholder='Optional' component={DropdownComponent} options={certaintyOptions}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{(includeClear && this.state.hasLookup) &&\n\t\t\t\t\t\t<Grid.Column width={1}>\n\t\t\t\t\t\t\t<Popup size='tiny' position='right center' trigger={\n\t\t\t\t\t\t\t\t<Button type=\"button\" size='tiny' color='red' icon='minus' onClick={() => this.handleClearClick()} />\n\t\t\t\t\t\t\t} content={`Clear ${entityLabel}`} />\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Grid.Row>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default EntityLookup\n","// @flow\nimport React from 'react'\nimport {Segment} from 'semantic-ui-react'\nimport SegmentRepeater from './SegmentRepeater'\nimport NameParts from './NameParts'\nimport VariantNames from './VariantNames'\nimport LanguageSelector from './LanguageSelector'\nimport EntityLookup from './EntityLookup'\nimport {InputField} from './FormControls'\nimport {Field} from 'redux-form'\nimport {required} from './FieldValidation'\n\nconst IdentityGroup = ({\n\tentityType,\n\tnameOptions,\n\tvariantOptions,\n\tcertaintyOptions,\n\tchangeFunc\n}: any) => (\n\t<Segment.Group>\n\t\t<Segment>\n\t\t\t<Field\n\t\t\t\trequired\n\t\t\t\tvalidate={[required]}\n\t\t\t\tplaceholder=\"e.g. Last Name, First Name (for indexing purposes)\"\n\t\t\t\tname=\"identity.standardName\"\n\t\t\t\tlabel=\"Standard Name\"\n\t\t\t\tinline\n\t\t\t\tcomponent={InputField}\n\t\t\t/>\n\t\t\t<Segment basic>\n\t\t\t\t<LanguageSelector\n\t\t\t\t\tlabel=\"Language\"\n\t\t\t\t\tname=\"identity.namePartsLang\"\n\t\t\t\t/>\n\t\t\t\t<SegmentRepeater\n\t\t\t\t\tfieldArrayName=\"identity.nameParts\"\n\t\t\t\t\theaderLabel=\"Components\"\n\t\t\t\t\tcomponentLabel=\"Component\"\n\t\t\t\t\tnameOptions={nameOptions}\n\t\t\t\t\tRepeatableComponent={NameParts}\n\t\t\t\t/>\n\t\t\t</Segment>\n\t\t</Segment>\n\t\t<SegmentRepeater\n\t\t\tfieldArrayName=\"identity.variants\"\n\t\t\theaderLabel=\"Variant Name(s)\"\n\t\t\tcomponentLabel=\"Variant Name\"\n\t\t\tRepeatableComponent={VariantNames}\n\t\t\tnameOptions={nameOptions}\n\t\t\tvariantOptions={variantOptions}\n\t\t\tchangeFunc={changeFunc}\n\t\t/>\n\t\t<SegmentRepeater\n\t\t\tfieldArrayName=\"identity.sameAs\"\n\t\t\theaderLabel=\"Same As\"\n\t\t\tcomponentLabel=\"Same As\"\n\t\t\tRepeatableComponent={EntityLookup}\n\t\t\tbuttonLabel={'Add ' + entityType.charAt(0).toUpperCase() + entityType.substring(1)}\n\t\t\tincludeCertainty={true}\n\t\t\tcertaintyOptions={certaintyOptions}\n\t\t\tentityType={entityType}\n\t\t\tchangeFunc={changeFunc}\n\t\t/>\n\t</Segment.Group>\n)\n\nexport default IdentityGroup\n","// @flow\nimport React from 'react'\nimport {Grid} from 'semantic-ui-react'\nimport SegmentRepeater from './SegmentRepeater'\nimport LanguageSelector from './LanguageSelector'\nimport ProjectSelector from './ProjectSelector'\nimport {Field} from 'redux-form'\n\nconst DescriptiveNoteComponent = ({name}: String) => (\n\t<Grid>\n\t\t<Grid.Row>\n\t\t\t<Grid.Column width={16}>\n\t\t\t\t<LanguageSelector label=\"Language\" name={`${name}.lang`}/>\n\t\t\t</Grid.Column>\n\t\t</Grid.Row>\n\t\t<Grid.Row>\n\t\t\t<Grid.Column width={16}>\n\t\t\t\t<Field\n\t\t\t\t\twidth={10}\n\t\t\t\t\tname={`${name}.value`}\n\t\t\t\t\tcomponent='textarea'\n\t\t\t\t\trows={3}\n\t\t\t\t\tplaceholder=\"Add your note here.\"/>\n\t\t\t</Grid.Column>\n\t\t</Grid.Row>\n\t</Grid>\n)\n\nconst DescriptiveNote = () => (\n\t<SegmentRepeater\n\t\tfieldArrayName=\"description.descriptiveNote\"\n\t\theaderLabel=\"General Description(s)\"\n\t\tcomponentLabel=\"Note\"\n\t\tRepeatableComponent={DescriptiveNoteComponent}\n\t/>\n)\n\nconst ProjectNoteComponent = ({name, changeFunc}: any) => (\n\t<Grid>\n\t\t<Grid.Row>\n\t\t\t<Grid.Column width={8}>\n\t\t\t\t<ProjectSelector label=\"Project\" name={`${name}.project`} changeFunc={changeFunc}/>\n\t\t\t</Grid.Column>\n\t\t\t<Grid.Column width={8}>\n\t\t\t\t<LanguageSelector label=\"Language\" name={`${name}.lang`}/>\n\t\t\t</Grid.Column>\n\t\t</Grid.Row>\n\t\t<Grid.Row>\n\t\t\t<Grid.Column width={16}>\n\t\t\t\t<Field\n\t\t\t\t\twidth={10}\n\t\t\t\t\tname={`${name}.value`}\n\t\t\t\t\tcomponent='textarea'\n\t\t\t\t\trows={3}\n\t\t\t\t\tplaceholder=\"Add your note here.\"/>\n\t\t\t</Grid.Column>\n\t\t</Grid.Row>\n\t</Grid>\n)\n\nconst ProjectNote = ({changeFunc}: any) => (\n\t<SegmentRepeater\n\t\tfieldArrayName=\"description.projectNote\"\n\t\theaderLabel=\"Project-Specific Note(s)\"\n\t\tcomponentLabel=\"Description\"\n\t\tchangeFunc={changeFunc}\n\t\tRepeatableComponent={ProjectNoteComponent}\n\t/>\n)\n\nexport {DescriptiveNote, ProjectNote}\n","// @flow\nimport React from 'react'\nimport {\n\tHeader,\n\tGrid,\n\tButton,\n\tIcon,\n\tSegment,\n\tPopup\n} from 'semantic-ui-react'\nimport {Field, FieldArray} from 'redux-form'\nimport {DropdownComponent, InputField} from './FormControls'\n// import DateComponent from './DateComponent'\nimport EntityLookup from './EntityLookup'\nimport {required, isDate} from '../components/FieldValidation'\n\nconst dateQualifierOptions = [\n\t{key: 'when-iso', text: 'When', value: 'when-iso'},\n\t{key: 'from-iso', text: 'From', value: 'from-iso'},\n\t{key: 'to-iso', text: 'To', value: 'to-iso'},\n\t{key: 'notBefore-iso', text: 'Not before', value: 'notBefore-iso'},\n\t{key: 'notAfter-iso', text: 'Not after', value: 'notAfter-iso'}\n]\n\nconst dateRangeQualifierOptions = [\n\t{key: 'from-iso', text: 'From', value: 'from-iso'},\n\t{key: 'to-iso', text: 'To', value: 'to-iso'},\n\t{key: 'notBefore-iso', text: 'Not before', value: 'notBefore-iso'},\n\t{key: 'notAfter-iso', text: 'Not after', value: 'notAfter-iso'}\n]\n\nconst certaintyOptions = [\n\t{key: 'high', text: 'High', value: 'high'},\n\t{key: 'medium', text: 'Medium', value: 'medium'},\n\t{key: 'low', text: 'Low', value: 'low'},\n\t{key: 'unknown', text: 'Unknown', value: 'unknown'}\n]\n\nconst DateRepeater = ({\n\tfieldArrayName,\n\tcomponentLabel,\n\tdateTypeOptions,\n\tchangeFunc,\n\t...rest\n}: any) => {\n\treturn (\n\t\t<FieldArray\n\t\t\tname={fieldArrayName}\n\t\t\tprops={{componentLabel, changeFunc, dateTypeOptions}}\n\t\t\tcomponent={renderSegment}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nconst renderSegment = ({\n\tfields,\n\theaderLabel,\n\tcomponentLabel,\n\tchangeFunc,\n\tdateTypeOptions,\n\tmeta: {touched, error, submitFailed},\n\t...rest\n}: any) => (\n\t<Segment secondary>\n\t\t<Segment clearing basic style={{padding: 0}}>\n\t\t\t<Header as=\"h4\" floated='left'>{headerLabel}</Header>\n\t\t\t<Button type=\"button\" floated='right' size='tiny' color='grey' onClick={() => fields.push({isRange: true})}>\n\t\t\t\t<Icon name='plus' />Date Range\n\t\t\t</Button>\n\t\t\t<Button type=\"button\" floated='right' size='tiny' color='grey' onClick={() => fields.push({isRange: false})}>\n\t\t\t\t<Icon name='plus' />Simple Date\n\t\t\t</Button>\n\t\t</Segment>\n\t\t{fields.map((name, index) => {\n\t\t\tconst field = fields.get(index)\n\t\t\tlet isRange = field.isRange\n\t\t\tif (isRange === undefined) {\n\t\t\t\tisRange = field.date1 !== undefined && field.date2 !== undefined\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<Segment key={index}>\n\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t\t<Grid.Row columns={2}>\n\t\t\t\t\t\t\t\t\t{!isRange &&\n\t\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.date1`}\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required, isDate]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Date'\n\t\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='YYYY-MM-DD'/>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Type'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: '1em'}}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.type`}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={dateTypeOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Date Type'\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{!isRange &&\n\t\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Qualifier'\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.qualifier1`}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={dateQualifierOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Qualifier'\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.cert`}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Certainty'\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{isRange &&\n\t\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.date1`}\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required, isDate]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Date 1'\n\t\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='YYYY-MM-DD'/>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Qualifier'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: '1em'}}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.qualifier1`}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={dateRangeQualifierOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Qualifier'\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Type'\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.type`}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={dateTypeOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Date Type'\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{isRange &&\n\t\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.date2`}\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required, isDate]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Date 2'\n\t\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='YYYY-MM-DD'/>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Qualifier'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: '1em'}}\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.qualifier2`}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={dateRangeQualifierOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Qualifier'\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tvalidate={[required]}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\t\tname={`${name}.cert`}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Certainty'\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<EntityLookup\n\t\t\t\t\t\t\t\t\t\t\tbuttonLabel='Add Place'\n\t\t\t\t\t\t\t\t\t\t\tname={`${name}.place`}\n\t\t\t\t\t\t\t\t\t\t\tentityType='place'\n\t\t\t\t\t\t\t\t\t\t\tchangeFunc={changeFunc}\n\t\t\t\t\t\t\t\t\t\t\tincludeClear={true}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t<Grid.Column width={4} stretched>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tname={`${name}.note`}\n\t\t\t\t\t\t\t\tcomponent=\"textarea\"\n\t\t\t\t\t\t\t\tplaceholder=\"Note\"/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t<Grid.Column width={1}>\n\t\t\t\t\t\t\t<Popup size='tiny' position='right center' trigger={\n\t\t\t\t\t\t\t\t<Button type=\"button\" floated=\"right\" size='tiny' color='red' icon='minus' onClick={() => fields.remove(index)}/>\n\t\t\t\t\t\t\t} content={`Remove ${componentLabel}`} />\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Segment>\n\t\t\t)\n\t\t})}\n\t</Segment>\n)\n\nexport default DateRepeater\n","// @flow\nimport React, { Component } from 'react'\nimport { Button, Icon, Modal } from 'semantic-ui-react'\n\nexport default class MessageDialog extends Component {\n\tstatic propTypes = {\n\t\theader: String,\n\t\tcontent: String,\n\t\tonClose: Function\n\t}\n\tstate = { modalOpen: true }\n\n\thandleOpen = () => this.setState({ modalOpen: true })\n\n\thandleClose = () => {\n\t\tthis.setState({ modalOpen: false })\n\t\tthis.props.onClose.call()\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\topen={this.state.modalOpen}\n\t\t\t\tonClose={this.handleClose}\n\t\t\t\tstyle={{position: 'relative'}}\n\t\t\t\tcloseOnDimmerClick={false}\n\t\t\t>\n\t\t\t\t<Modal.Header>{this.props.header}</Modal.Header>\n\t\t\t\t<Modal.Content>{this.props.content}</Modal.Content>\n\t\t\t\t<Modal.Actions>\n\t\t\t\t\t<Button color='green' onClick={this.handleClose}>\n\t\t\t\t\t\t<Icon name='checkmark' /> Ok!\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Actions>\n\t\t\t</Modal>\n\t\t)\n\t}\n}\n","// @flow\nimport {createSelector} from 'reselect'\nimport type {State as AuthState} from 'reducers/auth'\nimport type {State as LayoutState} from 'reducers/layout'\nimport type {State as EntitiesLinksState} from 'reducers/links'\nimport type {GlobalState} from 'reducers'\n\nexport const getAuthState = (state: GlobalState): AuthState => state.auth\nexport const getLayoutState = (state: GlobalState): LayoutState => state.layout\nexport const getEntitiesLinksState = (state: GlobalState): EntitiesLinksState =>\n\tstate.entities.links\n\nexport const getWindowInnerWidth = (window: Object): number => {\n\tconst defaultWindowInnerWidth = 1025\n\treturn window && window.innerWidth\n\t\t? window.innerWidth\n\t\t: defaultWindowInnerWidth\n}\n\nexport const getLayoutMobileStatuses = createSelector(\n\tgetLayoutState,\n\t({innerWidth}) => {\n\t\tconst isMobile: boolean = innerWidth < 1025 // 1024px - breakpoint\n\t\tconst isMobileXS: boolean = innerWidth < 481\n\t\tconst isMobileSM: boolean = innerWidth > 480 && innerWidth < 767\n\t\treturn {isMobileSM, isMobileXS, isMobile}\n\t}\n)\n\nconst getUrlParameter = (search, name) => {\n\tname = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]')\n\tvar regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)')\n\tvar results = regex.exec(search)\n\treturn results === null ? undefined : decodeURIComponent(results[1].replace(/\\+/g, ' '))\n}\n\nexport const getEntityId = state => {\n\treturn getUrlParameter(state.routing.location.search, 'entityId')\n}\n\nexport const getCollectionId = state => {\n\tlet search\n\t// can't figure out a good way to send state from CollectionsSvc so use window location instead\n\tif (state !== undefined) {\n\t\tsearch = state.routing.location.search\n\t} else {\n\t\tsearch = window.location.search\n\t}\n\treturn getUrlParameter(search, 'collectionId')\n}\n\nexport const isPersonPostDone =\tstate => state.entities.person.post.status === 'done'\nexport const isPersonPostPending = state => state.entities.person.post.status === 'pending'\nexport const isPersonPostError = state => state.entities.person.post.status === 'error'\nexport const getPersonPostError = state => state.entities.person.post.error\nexport const getPersonPostData = state => state.entities.person.post.data\n\nexport const isPersonGetDone =\tstate => state.entities.person.get.status === 'done'\nexport const isPersonGetPending = state => state.entities.person.get.status === 'pending'\nexport const isPersonGetError = state => state.entities.person.get.status === 'error'\nexport const getPersonGetError = state => state.entities.person.get.error\nexport const getPersonGetData = state => state.entities.person.get.data\n\nexport const isPersonPutDone =\tstate => state.entities.person.put.status === 'done'\nexport const isPersonPutPending = state => state.entities.person.put.status === 'pending'\nexport const isPersonPutError = state => state.entities.person.put.status === 'error'\nexport const getPersonPutError = state => state.entities.person.put.error\nexport const getPersonPutData = state => state.entities.person.put.data\n\nexport const isPlacePostDone =\tstate => state.entities.place.post.status === 'done'\nexport const isPlacePostPending = state => state.entities.place.post.status === 'pending'\nexport const isPlacePostError = state => state.entities.place.post.status === 'error'\nexport const getPlacePostError = state => state.entities.place.post.error\nexport const getPlacePostData = state => state.entities.place.post.data\n\nexport const isPlaceGetDone =\tstate => state.entities.place.get.status === 'done'\nexport const isPlaceGetPending = state => state.entities.place.get.status === 'pending'\nexport const isPlaceGetError = state => state.entities.place.get.status === 'error'\nexport const getPlaceGetError = state => state.entities.place.get.error\nexport const getPlaceGetData = state => state.entities.place.get.data\n\nexport const isPlacePutDone =\tstate => state.entities.place.put.status === 'done'\nexport const isPlacePutPending = state => state.entities.place.put.status === 'pending'\nexport const isPlacePutError = state => state.entities.place.put.status === 'error'\nexport const getPlacePutError = state => state.entities.place.put.error\nexport const getPlacePutData = state => state.entities.place.put.data\n\nexport const isOrganizationPostDone =\tstate => state.entities.organization.post.status === 'done'\nexport const isOrganizationPostPending = state => state.entities.organization.post.status === 'pending'\nexport const isOrganizationPostError = state => state.entities.organization.post.status === 'error'\nexport const getOrganizationPostError = state => state.entities.organization.post.error\nexport const getOrganizationPostData = state => state.entities.organization.post.data\n\nexport const isOrganizationGetDone =\tstate => state.entities.organization.get.status === 'done'\nexport const isOrganizationGetPending = state => state.entities.organization.get.status === 'pending'\nexport const isOrganizationGetError = state => state.entities.organization.get.status === 'error'\nexport const getOrganizationGetError = state => state.entities.organization.get.error\nexport const getOrganizationGetData = state => state.entities.organization.get.data\n\nexport const isOrganizationPutDone =\tstate => state.entities.organization.put.status === 'done'\nexport const isOrganizationPutPending = state => state.entities.organization.put.status === 'pending'\nexport const isOrganizationPutError = state => state.entities.organization.put.status === 'error'\nexport const getOrganizationPutError = state => state.entities.organization.put.error\nexport const getOrganizationPutData = state => state.entities.organization.put.data\n","// @flow\nimport Cookies from 'js-cookie'\nimport {get, parseJSON} from '../utils'\nimport {getCollectionId as getCollectionIdFromURL} from '../../selectors'\n\nconst IS_NODE = navigator.userAgent.toLowerCase().indexOf('node.js') !== -1\n\nexport const getCollectionId = (entityType) => {\n\tif (IS_NODE) { // can't access cookies when using react-snapshot\n\t\treturn ''\n\t} else {\n\t\t// collectionId in URL overrides any set cookie\n\t\tconst collectionId = getCollectionIdFromURL()\n\t\tif (collectionId !== undefined) {\n\t\t\treturn collectionId\n\t\t} else {\n\t\t\treturn Cookies.get(`${process.env.REACT_APP_COLLECTIONS_COOKIE_BASE}-${entityType}`)\n\t\t}\n\t}\n}\n\nexport const setCollectionId = (entityType, id) => {\n\tconst expiry = 1 / 12 // 2 hours\n\tCookies.set(`${process.env.REACT_APP_COLLECTIONS_COOKIE_BASE}-${entityType}`, id, { expires: expiry, path: '/' })\n}\n\nexport const getCollections = async () => {\n\treturn get(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_COLLECTIONS_BASE}`)\n\t\t.then(parseJSON)\n\t\t.catch(err => {\n\t\t\tconsole.warn('error fetching collections!', err)\n\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\treturn {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tresponse: {\n\t\t\t\t\t\t\tdocs: [\n\t\t\t\t\t\t\t\t{PID: 'cwrc:personEntityCollection', fgs_label_s: 'CWRC Person Entity Collection'},\n\t\t\t\t\t\t\t\t{PID: 'cwrc:organizationEntityCollection', fgs_label_s: 'CWRC Organization Entity Collection'},\n\t\t\t\t\t\t\t\t{PID: 'cwrc:placeEntityCollection', fgs_label_s: 'CWRC Place Entity Collection'},\n\t\t\t\t\t\t\t\t{PID: 'reed:personEntityCollection', fgs_label_s: 'Reed Person Entity Collection'},\n\t\t\t\t\t\t\t\t{PID: 'reed:organizationEntityCollection', fgs_label_s: 'Reed Organization Entity Collection'},\n\t\t\t\t\t\t\t\t{PID: 'reed:placeEntityCollection', fgs_label_s: 'Reed Place Entity Collection'}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tresponse: {\n\t\t\t\t\t\t\tdocs: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t})\n\t\t.then(res => {\n\t\t\tconst collections = []\n\t\t\tfor (let d of res.data.response.docs) {\n\t\t\t\tcollections.push({\n\t\t\t\t\tvalue: d.PID,\n\t\t\t\t\ttext: d.fgs_label_s\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn collections\n\t\t})\n}\n","import React, { Component } from 'react'\nimport { Grid, Button, Icon, Modal, Dropdown } from 'semantic-ui-react'\nimport {getCollections, setCollectionId} from '../../../api/CollectionsSvc'\n\nexport default class CollectionsDialog extends Component {\n\tstatic propTypes = {\n\t\tentityType: String\n\t}\n\tstate = {\n\t\tmodalOpen: true,\n\t\tcollections: [],\n\t\tvalue: undefined,\n\t\tloading: true,\n\t\terror: false\n\t}\n\n\thandleOpen = () => this.setState({ modalOpen: true })\n\n\thandleChange = (e, { value }) => this.setState({value: value})\n\n\thandleClose = () => {\n\t\tif (this.state.value === undefined) {\n\t\t\treturn false\n\t\t} else {\n\t\t\tthis.setState({ modalOpen: false })\n\t\t\tsetCollectionId(this.props.entityType, this.state.value)\n\t\t}\n\t}\n\n\thandleCancel = () => window.close()\n\n\tcomponentDidMount () {\n\t\tconst entityType = this.props.entityType\n\t\tgetCollections().then(collections => {\n\t\t\tif (collections.length > 0) {\n\t\t\t\tconst filteredCollections = collections.filter(collection => collection.value.indexOf(`:${entityType}`) !== -1)\n\t\t\t\tthis.setState({loading: false, collections: filteredCollections, value: collections[0].value})\n\t\t\t} else {\n\t\t\t\tthis.setState({loading: false, error: true, collections: []})\n\t\t\t}\n\t\t})\n\t}\n\n\trender () {\n\t\tconst value = this.state.value\n\t\tconst loading = this.state.loading\n\t\tconst error = this.state.error\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\topen={this.state.modalOpen}\n\t\t\t\tcloseOnEscape={false}\n\t\t\t\tcloseOnDocumentClick={false}\n\t\t\t\tcloseOnDimmerClick={false}\n\t\t\t\tonClose={this.handleClose}\n\t\t\t\tstyle={{position: 'relative', overflow: 'visible'}} // overflow visible needed for dropdown\n\t\t\t>\n\t\t\t\t<Modal.Header>CWRC Collections</Modal.Header>\n\t\t\t\t<Modal.Content>\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Grid.Column width={6}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tplaceholder={error ? 'You do not have access to any CWRC collections' : 'Select collection'}\n\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\tselection\n\t\t\t\t\t\t\t\tscrolling\n\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\toptions={this.state.collections}\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t<Grid.Column width={8}>\n\t\t\t\t\t\t\t<p>Please choose a CWRC collection in which to create the entity.<br/>\n\t\t\t\t\t\t\tYour choice will be used for all new entities created in this editing session.</p>\n\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Modal.Content>\n\t\t\t\t<Modal.Actions>\n\t\t\t\t\t<Button onClick={this.handleCancel}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button color='green' onClick={this.handleClose}>\n\t\t\t\t\t\t<Icon name='checkmark' /> Use selected collection\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Actions>\n\t\t\t</Modal>\n\t\t)\n\t}\n}\n","export const factualityOptions = [\n\t{key: '', text: '', value: ''},\n\t{key: 'real', text: 'Real', value: 'real'},\n\t{key: 'fictional', text: 'Fictional', value: 'fictional'}\n]\n\nexport const certaintyOptions = [\n\t{key: '', text: '', value: ''},\n\t{key: 'high', text: 'High', value: 'high'},\n\t{key: 'medium', text: 'Medium', value: 'medium'},\n\t{key: 'low', text: 'Low', value: 'low'},\n\t{key: 'unknown', text: 'Unknown', value: 'unknown'}\n]\n\nexport const genderOptions = [\n\t{key: '', text: '', value: ''},\n\t{key: 'cisGender', text: 'cisGender', value: 'cisGender'},\n\t{key: 'cisWoman', text: 'cisWoman', value: 'cisWoman'},\n\t{key: 'cisMan', text: 'cisMan', value: 'cisMan'},\n\t{key: 'woman', text: 'woman', value: 'woman'},\n\t{key: 'man', text: 'man', value: 'man'},\n\t{key: 'transgender', text: 'transgender', value: 'transgender'},\n\t{key: 'transwoman', text: 'transwoman', value: 'transwoman'},\n\t{key: 'transman', text: 'transman', value: 'transman'},\n\t{key: 'androgynous', text: 'androgynous', value: 'androgynous'},\n\t{key: 'genderqueer', text: 'genderqueer', value: 'genderqueer'},\n\t{key: 'genderselfreported', text: 'genderselfreported', value: 'genderselfreported'}\n]\n\nexport const personNameTypeOptions = [\n\t{key: 'forename', text: 'Forename', value: 'forename'},\n\t{key: 'surname', text: 'Surname', value: 'surname'},\n\t{key: 'generational', text: 'Generational', value: 'generational'},\n\t{key: 'role', text: 'Role', value: 'role'}\n]\n\nexport const personVariantTypeOptions = [\n\t{key: 'birth', text: 'birth', value: 'birth'},\n\t{key: 'married', text: 'married', value: 'married'},\n\t{key: 'indexed', text: 'indexed', value: 'indexed'},\n\t{key: 'pseudonym', text: 'pseudonym', value: 'pseudonym'},\n\t{key: 'nickname', text: 'nickname', value: 'nickname'},\n\t{key: 'religious', text: 'religious', value: 'religious'},\n\t{key: 'royal', text: 'royal', value: 'royal'},\n\t{key: 'self-constructed', text: 'self-constructed', value: 'self-constructed'},\n\t{key: 'styled', text: 'styled', value: 'styled'},\n\t{key: 'titled', text: 'titled', value: 'titled'},\n\t{key: 'orlando_standard', text: 'orlando standard', value: 'orlando_standard'},\n\t{key: 'descriptive', text: 'descriptive', value: 'descriptive'},\n\t{key: 'popular', text: 'popular', value: 'popular'},\n\t{key: 'acronym', text: 'acronym', value: 'acronym'},\n\t{key: 'alternate', text: 'alternate', value: 'alternate'},\n\t{key: 'deprecated', text: 'deprecated', value: 'deprecated'},\n\t{key: 'historic', text: 'historic', value: 'historic'}\n]\n\nexport const personDateTypeOptions = [\n\t{key: 'birth', text: 'Birth', value: 'birth'},\n\t{key: 'death', text: 'Death', value: 'death'},\n\t{key: 'floruit', text: 'Floruit', value: 'floruit'}\n]\n\nexport const nonPersonVariantTypeOptions = [\n\t{key: 'indexed', text: 'indexed', value: 'indexed'},\n\t{key: 'nickname', text: 'nickname', value: 'nickname'},\n\t{key: 'orlando_standard', text: 'orlando standard', value: 'orlando_standard'},\n\t{key: 'descriptive', text: 'descriptive', value: 'descriptive'},\n\t{key: 'popular', text: 'popular', value: 'popular'},\n\t{key: 'acronym', text: 'acronym', value: 'acronym'},\n\t{key: 'alternate', text: 'alternate', value: 'alternate'},\n\t{key: 'deprecated', text: 'deprecated', value: 'deprecated'},\n\t{key: 'historic', text: 'historic', value: 'historic'}\n]\n\nexport const nonPersonDateTypeOptions = [\n\t{key: 'establishment', text: 'Establishment', value: 'establishment'},\n\t{key: 'dissolution', text: 'Dissolution', value: 'dissolution'},\n\t{key: 'flourished', text: 'Flourished', value: 'flourished'}\n]\n","// @flow\n\nexport function createXMLFromPath (parent: Element, path: String, childText?: String) {\n\tlet currParent = parent\n\tif (path !== undefined && path !== '') {\n\t\tlet tags = path.split('/')\n\t\tfor (let tag of tags) {\n\t\t\tlet hasAtt = tag.indexOf('[') !== -1\n\t\t\tlet tagName\n\t\t\tif (hasAtt) {\n\t\t\t\ttagName = tag.slice(0, tag.indexOf('['))\n\t\t\t} else {\n\t\t\t\ttagName = tag\n\t\t\t}\n\t\t\tlet el = parent.ownerDocument.createElementNS('http://www.tei-c.org/ns/1.0', tagName)\n\t\t\tif (hasAtt) {\n\t\t\t\tlet attName = tag.slice(tag.indexOf('@') + 1, tag.indexOf('='))\n\t\t\t\tlet attValue = tag.slice(tag.indexOf('\"') + 1, tag.lastIndexOf('\"'))\n\t\t\t\tattValue = decodeURIComponent(attValue)\n\t\t\t\tel.setAttribute(attName, attValue)\n\t\t\t}\n\t\t\tcurrParent.appendChild(el)\n\n\t\t\tcurrParent = el\n\t\t}\n\t}\n\tif (childText !== undefined) {\n\t\tcurrParent.appendChild(currParent.ownerDocument.createTextNode(childText))\n\t}\n\n\treturn currParent\n}\n\nexport function getDateString (date: String) {\n\tlet d\n\tif (typeof date === 'string') {\n\t\t// handling for weird date stuff\n\t\t// see https://stackoverflow.com/a/31732581\n\t\t// d = new Date(date.replace(/-/g, '/'))\n\t\treturn date\n\t} else {\n\t\td = date\n\t}\n\n\tlet month = '' + (d.getMonth() + 1)\n\tlet day = '' + d.getDate()\n\tlet year = '' + d.getFullYear()\n\n\tyear = year.padStart(4, '0')\n\tmonth = month.padStart(2, '0')\n\tday = day.padStart(2, '0')\n\n\treturn [year, month, day].join('-')\n}\n\nexport function addIdentityXML (parentEl: Element, identityEl: String, values: Object) {\n\tlet title = parentEl.ownerDocument.querySelector('fileDesc > titleStmt > title')\n\tcreateXMLFromPath(title, '', values.identity.standardName)\n\t// standard name\n\tlet standardNameEl = createXMLFromPath(parentEl, `${identityEl}[@type=\"standard\"]/name`, values.identity.standardName)\n\tif (values.identity.namePartsLang) {\n\t\tstandardNameEl.parentElement.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:lang', values.identity.namePartsLang)\n\t}\n\t// name components\n\tif (values.identity.nameParts) {\n\t\tlet namePartEl = createXMLFromPath(parentEl, `${identityEl}[@type=\"preferred\"]`)\n\t\tfor (let namePart of values.identity.nameParts) {\n\t\t\tif (values.identity.namePartsLang) {\n\t\t\t\tnamePartEl.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:lang', values.identity.namePartsLang)\n\t\t\t}\n\t\t\tif (namePart.type === 'role') {\n\t\t\t\tcreateXMLFromPath(namePartEl, 'roleName', namePart.value)\n\t\t\t} else if (namePart.type === 'generational') {\n\t\t\t\tcreateXMLFromPath(namePartEl, 'genName', namePart.value)\n\t\t\t} else {\n\t\t\t\tlet namePartType = namePart.type\n\t\t\t\tif (namePartType == null || namePartType === '') {\n\t\t\t\t\tnamePartType = 'undefined'\n\t\t\t\t}\n\t\t\t\tnamePartType = namePartType.replace(/\\s+/g, '_')\n\t\t\t\tcreateXMLFromPath(namePartEl, `name[@type=\"${namePartType}\"]`, namePart.value)\n\t\t\t}\n\t\t}\n\t}\n\t// name variants\n\tif (values.identity.variants) {\n\t\tfor (let variant of values.identity.variants) {\n\t\t\tlet variantEl = createXMLFromPath(parentEl, `${identityEl}[@type=\"variant\"]`)\n\t\t\tif (variant.lang) {\n\t\t\t\tvariantEl.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:lang', variant.lang)\n\t\t\t}\n\n\t\t\tlet variantType = variant.type\n\t\t\tif (variantType == null || variantType === '') {\n\t\t\t\tvariantType = 'undefined'\n\t\t\t}\n\t\t\tvariantType = variantType.replace(/\\s+/g, '_')\n\t\t\tvariantEl.setAttribute('role', variantType)\n\n\t\t\tif (variant.project) {\n\t\t\t\tlet noteEl = createXMLFromPath(variantEl, 'note')\n\t\t\t\tcreateXMLFromPath(noteEl, 'label', 'Name preferred by')\n\t\t\t\tcreateXMLFromPath(noteEl, `desc/orgName[@ref=\"${encodeURIComponent(process.env.REACT_APP_ENTITIES_HOST + '/' + variant.project.value)}\"]`, variant.project.title)\n\t\t\t}\n\t\t\tif (variant.parts) {\n\t\t\t\tfor (let part of variant.parts) {\n\t\t\t\t\tif (part.type === 'role') {\n\t\t\t\t\t\tcreateXMLFromPath(variantEl, 'roleName', part.value)\n\t\t\t\t\t} else if (part.type === 'generational') {\n\t\t\t\t\t\tcreateXMLFromPath(variantEl, 'genName', part.value)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet namePartType = part.type\n\t\t\t\t\t\tif (namePartType == null || namePartType === '') {\n\t\t\t\t\t\t\tnamePartType = 'undefined'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnamePartType = namePartType.replace(/\\s+/g, '_')\n\t\t\t\t\t\tcreateXMLFromPath(variantEl, `name[@type=\"${namePartType}\"]`, part.value)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// same as\n\tif (values.identity.sameAs) {\n\t\tfor (let sameAs of values.identity.sameAs) {\n\t\t\tlet sameAsEl = createXMLFromPath(parentEl, `idno[@type=\"${sameAs.type}\"]`, sameAs.idno)\n\t\t\tif (sameAs.cert) {\n\t\t\t\tsameAsEl.setAttribute('cert', sameAs.cert)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function addNotesXML (parentEl: Element, values: Object) {\n\t// description\n\tif (values.description.descriptiveNote) {\n\t\tfor (let note of values.description.descriptiveNote) {\n\t\t\tlet noteEl = createXMLFromPath(parentEl, 'note[@type=\"general\"]', note.value)\n\t\t\tif (note.lang) {\n\t\t\t\tnoteEl.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:lang', note.lang)\n\t\t\t}\n\t\t}\n\t}\n\t// project note\n\tif (values.description.projectNote) {\n\t\tfor (let note of values.description.projectNote) {\n\t\t\tlet noteEl = createXMLFromPath(parentEl, 'note[@type=\"project-specific\"]', note.value)\n\t\t\tif (note.lang) {\n\t\t\t\tnoteEl.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:lang', note.lang)\n\t\t\t}\n\t\t\tif (note.project) {\n\t\t\t\tcreateXMLFromPath(noteEl, `respons[@locus=\"value\"]/desc/orgName[@ref=\"${encodeURIComponent(process.env.REACT_APP_ENTITIES_HOST + '/' + note.project.value)}\"]`, note.project.title)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function addSourcesXML (parentEl: Element, values: Object) {\n\t// sources\n\tif (values.sources.bibl) {\n\t\tlet listBibl = createXMLFromPath(parentEl, 'listBibl')\n\t\tfor (let bibl of values.sources.bibl) {\n\t\t\tlet biblEl = createXMLFromPath(listBibl, 'bibl', bibl.name)\n\t\t\tlet ref = createXMLFromPath(biblEl, 'ref')\n\t\t\tref.setAttribute('source', bibl.type)\n\t\t\tref.setAttribute('target', bibl.idno)\n\t\t}\n\t}\n}\n\nexport function addIdentityJSON (parentEl: Element, identityEl: String, values: Object) {\n\tlet standardNameEl = parentEl.querySelector(`${identityEl}[type=\"standard\"]`)\n\tvalues.identity.standardName = standardNameEl.firstElementChild.textContent\n\tvalues.identity.namePartsLang = standardNameEl.getAttribute('xml:lang')\n\n\tlet prefName = parentEl.querySelector(`${identityEl}[type=\"preferred\"]`)\n\tif (prefName) {\n\t\tvalues.identity.namePartsLang = prefName.getAttribute('xml:lang')\n\t\tvalues.identity.nameParts = []\n\t\tprefName.querySelectorAll('name').forEach((el, index) => {\n\t\t\tvalues.identity.nameParts.push({\n\t\t\t\ttype: el.getAttribute('type'),\n\t\t\t\tvalue: el.textContent\n\t\t\t})\n\t\t})\n\t\tprefName.querySelectorAll('roleName').forEach((el, index) => {\n\t\t\tvalues.identity.nameParts.push({\n\t\t\t\ttype: 'role',\n\t\t\t\tvalue: el.textContent\n\t\t\t})\n\t\t})\n\t\tprefName.querySelectorAll('genName').forEach((el, index) => {\n\t\t\tvalues.identity.nameParts.push({\n\t\t\t\ttype: 'generational',\n\t\t\t\tvalue: el.textContent\n\t\t\t})\n\t\t})\n\t}\n\n\tvalues.identity.variants = []\n\tparentEl.querySelectorAll(`${identityEl}[type=\"variant\"]`).forEach((variantEl, index) => {\n\t\tlet ref = ''\n\t\tlet title = ''\n\t\tlet orgName = variantEl.querySelector('orgName')\n\t\tif (orgName) {\n\t\t\tref = orgName.getAttribute('ref').match(/node\\/\\d+$/)\n\t\t\tif (ref !== null) {\n\t\t\t\tref = ref[0]\n\t\t\t} else {\n\t\t\t\tref = ''\n\t\t\t}\n\t\t\ttitle = orgName.textContent\n\t\t}\n\t\tlet variant = {\n\t\t\tproject: {\n\t\t\t\tvalue: ref,\n\t\t\t\ttitle\n\t\t\t},\n\t\t\tlang: variantEl.getAttribute('xml:lang'),\n\t\t\ttype: variantEl.getAttribute('role'),\n\t\t\tparts: []\n\t\t}\n\n\t\tvariantEl.querySelectorAll('name').forEach((namePartEl, index2) => {\n\t\t\tvariant.parts.push({\n\t\t\t\ttype: namePartEl.getAttribute('type'),\n\t\t\t\tvalue: namePartEl.textContent\n\t\t\t})\n\t\t})\n\t\tvariantEl.querySelectorAll('roleName').forEach((namePartEl, index2) => {\n\t\t\tvariant.parts.push({\n\t\t\t\ttype: 'role',\n\t\t\t\tvalue: namePartEl.textContent\n\t\t\t})\n\t\t})\n\t\tvariantEl.querySelectorAll('genName').forEach((namePartEl, index2) => {\n\t\t\tvariant.parts.push({\n\t\t\t\ttype: 'generational',\n\t\t\t\tvalue: namePartEl.textContent\n\t\t\t})\n\t\t})\n\n\t\tvalues.identity.variants.push(variant)\n\t})\n\n\tvalues.identity.sameAs = []\n\tparentEl.querySelectorAll('idno').forEach((el, index) => {\n\t\tvalues.identity.sameAs.push({\n\t\t\ttype: el.getAttribute('type'),\n\t\t\tcert: el.getAttribute('cert'),\n\t\t\tidno: el.textContent\n\t\t})\n\t})\n}\n\nexport function addNotesJSON (parentEl: Element, values: Object) {\n\tvalues.description.descriptiveNote = []\n\tparentEl.querySelectorAll('note[type=\"general\"]').forEach((el, index) => {\n\t\tvalues.description.descriptiveNote.push({\n\t\t\tvalue: el.textContent,\n\t\t\tlang: el.getAttribute('xml:lang')\n\t\t})\n\t})\n\n\tvalues.description.projectNote = []\n\tparentEl.querySelectorAll('note[type=\"project-specific\"]').forEach((el, index) => {\n\t\tlet ref = ''\n\t\tlet title = ''\n\t\tlet orgName = el.querySelector('orgName')\n\t\tif (orgName) {\n\t\t\tref = orgName.getAttribute('ref').match(/node\\/\\d+$/)\n\t\t\tif (ref !== null) {\n\t\t\t\tref = ref[0]\n\t\t\t} else {\n\t\t\t\tref = ''\n\t\t\t}\n\t\t\ttitle = orgName.textContent\n\t\t}\n\n\t\tvalues.description.projectNote.push({\n\t\t\tvalue: el.firstChild.textContent,\n\t\t\tlang: el.getAttribute('xml:lang'),\n\t\t\tproject: {\n\t\t\t\tvalue: ref,\n\t\t\t\ttitle\n\t\t\t}\n\t\t})\n\t})\n}\n\nexport function addSourcesJSON (parentEl: Element, values: Object) {\n\tlet listBibl = parentEl.querySelector('listBibl')\n\tif (listBibl) {\n\t\tvalues.sources.bibl = []\n\t\tlistBibl.querySelectorAll('bibl').forEach((el, index) => {\n\t\t\tvalues.sources.bibl.push({\n\t\t\t\tname: el.textContent,\n\t\t\t\tidno: el.querySelector('ref').getAttribute('target')\n\t\t\t})\n\t\t})\n\t}\n}\n","import {createXMLFromPath, getDateString, addIdentityXML, addNotesXML, addSourcesXML} from '../../utils/conversion_utilities'\n\nexport const json2xml = (values) => {\n\tlet xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<?xml-model href=\"http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_all.rng\" type=\"application/xml\" schematypens=\"http://relaxng.org/ns/structure/1.0\"?>\n\t<?xml-model href=\"http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_all.rng\" type=\"application/xml\"\n\t\tschematypens=\"http://purl.oclc.org/dsdl/schematron\"?>\n\t<TEI xmlns=\"http://www.tei-c.org/ns/1.0\">\n\t\t<teiHeader>\n\t\t\t<fileDesc>\n\t\t\t\t<titleStmt><title></title></titleStmt>\n\t\t\t\t<publicationStmt>\n\t\t\t\t\t<publisher>Canadian Writing Research Collaboratory (CWRC)</publisher>\n\t\t\t\t\t<availability><licence target=\"https://creativecommons.org/licenses/by/4.0/legalcode\"><p/></licence></availability>\n\t\t\t\t</publicationStmt>\n\t\t\t\t<notesStmt><note>Person entity record</note></notesStmt>\n\t\t\t\t<sourceDesc><p>born digital</p></sourceDesc>\n\t\t\t</fileDesc>\n\t\t</teiHeader>\n\t\t<text>\n\t\t\t<body>\n\t\t\t\t<listPerson><person></person></listPerson>\n\t\t\t</body>\n\t\t</text>\n\t</TEI>`\n\tlet xmlDoc\n\tif (window.DOMParser) {\n\t\tconst parser = new DOMParser()\n\t\txmlDoc = parser.parseFromString(xml, 'text/xml')\n\t} else {\n\t\treturn null\n\t}\n\n\tlet person = xmlDoc.querySelector('person')\n\n\taddIdentityXML(person, 'persName', values)\n\n\t// description\n\tif (values.description) {\n\t\t// dates\n\t\tif (values.description.dates) {\n\t\t\tfor (let date of values.description.dates) {\n\t\t\t\tlet dateTypeEl = createXMLFromPath(person, date.type)\n\t\t\t\tlet dateEl = createXMLFromPath(dateTypeEl, 'date')\n\t\t\t\tif (date.cert) {\n\t\t\t\t\tdateEl.setAttribute('cert', date.cert)\n\t\t\t\t}\n\t\t\t\tif (date.date1 && date.qualifier1) {\n\t\t\t\t\tdateEl.setAttribute(date.qualifier1, getDateString(date.date1))\n\t\t\t\t}\n\t\t\t\tif (date.date2 && date.qualifier2) {\n\t\t\t\t\tdateEl.setAttribute(date.qualifier2, getDateString(date.date2))\n\t\t\t\t}\n\t\t\t\tif (date.note) {\n\t\t\t\t\tcreateXMLFromPath(dateEl, 'note', date.note)\n\t\t\t\t}\n\t\t\t\tif (date.place) {\n\t\t\t\t\tcreateXMLFromPath(dateTypeEl, `placeName[@ref=\"${encodeURIComponent(date.place.idno)}\"]`, date.place.name)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// properties\n\t\tlet props = values.description.properties\n\t\tif (props) {\n\t\t\t// factuality\n\t\t\tif (props.factuality) {\n\t\t\t\tlet traitEl = createXMLFromPath(person, 'trait[@type=\"factuality\"]')\n\t\t\t\tif (props.factuality.cert) {\n\t\t\t\t\ttraitEl.setAttribute('cert', props.factuality.cert)\n\t\t\t\t}\n\t\t\t\tcreateXMLFromPath(traitEl, 'ab', props.factuality.value)\n\t\t\t}\n\t\t\t// gender\n\t\t\tif (props.gender && props.gender.value && props.gender.value.length > 0) {\n\t\t\t\tlet sex = props.gender.value.join(' ')\n\t\t\t\tlet sexEl = createXMLFromPath(person, `sex[@value=\"${sex}\"]`)\n\t\t\t\tif (props.gender.cert) {\n\t\t\t\t\tsexEl.setAttribute('cert', props.gender.cert)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// occupation\n\t\t\tif (props.occupation) {\n\t\t\t\tfor (let occ of props.occupation) {\n\t\t\t\t\tlet occEl = createXMLFromPath(person, 'occupation', occ.value)\n\t\t\t\t\tif (occ.cert) {\n\t\t\t\t\t\toccEl.setAttribute('cert', occ.cert)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// nationality\n\t\t\tif (props.nationality) {\n\t\t\t\tfor (let nat of props.nationality) {\n\t\t\t\t\tlet natEl = createXMLFromPath(person, 'nationality', nat.value)\n\t\t\t\t\tif (nat.cert) {\n\t\t\t\t\t\tnatEl.setAttribute('cert', nat.cert)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// affiliation\n\t\t\tif (props.affiliation) {\n\t\t\t\tfor (let aff of props.affiliation) {\n\t\t\t\t\tlet affEl = createXMLFromPath(person, 'affiliation', aff.value)\n\t\t\t\t\tif (aff.cert) {\n\t\t\t\t\t\taffEl.setAttribute('cert', aff.cert)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\taddNotesXML(person, values)\n\t}\n\t// sources\n\tif (values.sources) {\n\t\taddSourcesXML(person, values)\n\t}\n\n\treturn xmlDoc\n}\n","// @flow\nimport {addIdentityJSON, addNotesJSON, addSourcesJSON} from '../../utils/conversion_utilities'\n\nexport const xml2json = (xmlDoc: XMLDocument) => {\n\tlet values = {\n\t\tidentity: {},\n\t\tdescription: {},\n\t\tsources: {}\n\t}\n\n\tlet person = xmlDoc.querySelector('person')\n\n\taddIdentityJSON(person, 'persName', values)\n\n\tvalues.description.dates = []\n\tlet dates = person.querySelectorAll('birth, death, floruit')\n\tdates.forEach((el, index) => {\n\t\tlet date = el.querySelector('date')\n\t\tlet date1 = date.getAttribute('when-iso')\n\t\tlet date2\n\t\tlet qualifier1\n\t\tlet qualifier2\n\t\tif (date1 === null) {\n\t\t\tdate1 = date.getAttribute('from-iso')\n\t\t\tdate2 = date.getAttribute('to-iso')\n\t\t\tqualifier1 = 'from-iso'\n\t\t\tqualifier2 = 'to-iso'\n\t\t\tif (date1 === null) {\n\t\t\t\tdate1 = date.getAttribute('notBefore-iso')\n\t\t\t\tqualifier1 = 'notBefore-iso'\n\t\t\t}\n\t\t\tif (date2 === null) {\n\t\t\t\tdate2 = date.getAttribute('notAfter-iso')\n\t\t\t\tqualifier2 = 'notAfter-iso'\n\t\t\t}\n\t\t} else {\n\t\t\tqualifier1 = 'when-iso'\n\t\t}\n\t\tlet note = el.querySelector('note')\n\t\tif (note) {\n\t\t\tnote = note.textContent\n\t\t}\n\t\tlet place = el.querySelector('placeName')\n\t\tif (place) {\n\t\t\tlet name = place.textContent\n\t\t\tlet idno = place.getAttribute('ref')\n\t\t\tplace = {name, idno}\n\t\t}\n\t\tvalues.description.dates.push({\n\t\t\ttype: el.nodeName,\n\t\t\tdate1,\n\t\t\tdate2,\n\t\t\tqualifier1,\n\t\t\tqualifier2,\n\t\t\tnote,\n\t\t\tplace,\n\t\t\tcert: date.getAttribute('cert')\n\t\t})\n\t})\n\n\tvalues.description.properties = {}\n\tlet trait = person.querySelector('trait[type=\"factuality\"]')\n\tif (trait) {\n\t\tvalues.description.properties.factuality = {\n\t\t\tvalue: trait.querySelector('ab').textContent,\n\t\t\tcert: trait.getAttribute('cert')\n\t\t}\n\t}\n\n\tvalues.description.properties.gender = {}\n\tlet sex = person.querySelector('sex')\n\tif (sex) {\n\t\tvalues.description.properties.gender.cert = sex.getAttribute('cert')\n\t\tvalues.description.properties.gender.value = sex.getAttribute('value').split(' ')\n\t}\n\n\tvalues.description.properties.occupation = []\n\tperson.querySelectorAll('occupation').forEach((el, index) => {\n\t\tvalues.description.properties.occupation.push({\n\t\t\tvalue: el.textContent,\n\t\t\tcert: el.getAttribute('cert')\n\t\t})\n\t})\n\n\tvalues.description.properties.nationality = []\n\tperson.querySelectorAll('nationality').forEach((el, index) => {\n\t\tvalues.description.properties.nationality.push({\n\t\t\tvalue: el.textContent,\n\t\t\tcert: el.getAttribute('cert')\n\t\t})\n\t})\n\n\tvalues.description.properties.affiliation = []\n\tperson.querySelectorAll('affiliation').forEach((el, index) => {\n\t\tvalues.description.properties.affiliation.push({\n\t\t\tvalue: el.textContent,\n\t\t\tcert: el.getAttribute('cert')\n\t\t})\n\t})\n\n\taddNotesJSON(person, values)\n\n\taddSourcesJSON(person, values)\n\n\treturn values\n}\n","// @flow\nimport {addIdentityJSON, addNotesJSON, addSourcesJSON} from '../../utils/conversion_utilities'\n\nexport const xml2json = (xmlDoc: XMLDocument) => {\n\tlet values = {\n\t\tidentity: {},\n\t\tdescription: {},\n\t\tsources: {}\n\t}\n\n\tlet org = xmlDoc.querySelector('org')\n\n\taddIdentityJSON(org, 'orgName', values)\n\n\tvalues.description.dates = []\n\tlet dates = org.querySelectorAll('event')\n\tdates.forEach((date, index) => {\n\t\tlet date1 = date.getAttribute('when-iso')\n\t\tlet date2\n\t\tlet qualifier1\n\t\tlet qualifier2\n\t\tif (date1 === null) {\n\t\t\tdate1 = date.getAttribute('from-iso')\n\t\t\tdate2 = date.getAttribute('to-iso')\n\t\t\tqualifier1 = 'from-iso'\n\t\t\tqualifier2 = 'to-iso'\n\t\t\tif (date1 === null) {\n\t\t\t\tdate1 = date.getAttribute('notBefore-iso')\n\t\t\t\tqualifier1 = 'notBefore-iso'\n\t\t\t}\n\t\t\tif (date2 === null) {\n\t\t\t\tdate2 = date.getAttribute('notAfter-iso')\n\t\t\t\tqualifier2 = 'notAfter-iso'\n\t\t\t}\n\t\t} else {\n\t\t\tqualifier1 = 'when-iso'\n\t\t}\n\t\tlet note = date.querySelector('desc > desc')\n\t\tif (note) {\n\t\t\tnote = note.textContent\n\t\t}\n\t\tlet place = date.querySelector('desc > placeName')\n\t\tif (place) {\n\t\t\tlet name = place.textContent\n\t\t\tlet idno = place.getAttribute('ref')\n\t\t\tplace = {name, idno}\n\t\t}\n\t\tvalues.description.dates.push({\n\t\t\ttype: date.getAttribute('type'),\n\t\t\tdate1,\n\t\t\tdate2,\n\t\t\tqualifier1,\n\t\t\tqualifier2,\n\t\t\tnote,\n\t\t\tplace,\n\t\t\tcert: date.getAttribute('cert')\n\t\t})\n\t})\n\n\tvalues.description.properties = {}\n\tlet factuality = org.querySelector('trait[type=\"factuality\"]')\n\tif (factuality) {\n\t\tvalues.description.properties.factuality = {\n\t\t\tvalue: factuality.querySelector('ab').textContent,\n\t\t\tcert: factuality.getAttribute('cert')\n\t\t}\n\t}\n\tlet type = org.querySelector('trait[type=\"orgType\"]')\n\tif (type) {\n\t\tvalues.description.properties.type = {\n\t\t\tvalue: type.querySelector('ab').textContent,\n\t\t\tcert: type.getAttribute('cert')\n\t\t}\n\t}\n\n\taddNotesJSON(org, values)\n\n\taddSourcesJSON(org, values)\n\n\treturn values\n}\n","// @flow\nimport {addIdentityJSON, addNotesJSON, addSourcesJSON} from '../../utils/conversion_utilities'\n\nexport const xml2json = (xmlDoc: XMLDocument) => {\n\tlet values = {\n\t\tidentity: {},\n\t\tdescription: {},\n\t\tsources: {}\n\t}\n\n\tlet place = xmlDoc.querySelector('place')\n\n\taddIdentityJSON(place, 'placeName', values)\n\n\tvalues.description.dates = []\n\tlet dates = place.querySelectorAll('event')\n\tdates.forEach((date, index) => {\n\t\tlet date1 = date.getAttribute('when-iso')\n\t\tlet date2\n\t\tlet qualifier1\n\t\tlet qualifier2\n\t\tif (date1 === null) {\n\t\t\tdate1 = date.getAttribute('from-iso')\n\t\t\tdate2 = date.getAttribute('to-iso')\n\t\t\tqualifier1 = 'from-iso'\n\t\t\tqualifier2 = 'to-iso'\n\t\t\tif (date1 === null) {\n\t\t\t\tdate1 = date.getAttribute('notBefore-iso')\n\t\t\t\tqualifier1 = 'notBefore-iso'\n\t\t\t}\n\t\t\tif (date2 === null) {\n\t\t\t\tdate2 = date.getAttribute('notAfter-iso')\n\t\t\t\tqualifier2 = 'notAfter-iso'\n\t\t\t}\n\t\t} else {\n\t\t\tqualifier1 = 'when-iso'\n\t\t}\n\t\tlet note = date.querySelector('desc > desc')\n\t\tif (note) {\n\t\t\tnote = note.textContent\n\t\t}\n\t\tlet place = date.querySelector('desc > placeName')\n\t\tif (place) {\n\t\t\tlet name = place.textContent\n\t\t\tlet idno = place.getAttribute('ref')\n\t\t\tplace = {name, idno}\n\t\t}\n\t\tvalues.description.dates.push({\n\t\t\ttype: date.getAttribute('type'),\n\t\t\tdate1,\n\t\t\tdate2,\n\t\t\tqualifier1,\n\t\t\tqualifier2,\n\t\t\tnote,\n\t\t\tplace,\n\t\t\tcert: date.getAttribute('cert')\n\t\t})\n\t})\n\n\tvalues.description.properties = {}\n\tlet trait = place.querySelector('trait[type=\"factuality\"]')\n\tif (trait) {\n\t\tvalues.description.properties.factuality = {\n\t\t\tvalue: trait.querySelector('ab').textContent,\n\t\t\tcert: trait.getAttribute('cert')\n\t\t}\n\t}\n\n\tvalues.description.location = {}\n\tlet location = place.querySelector('location')\n\tif (location) {\n\t\tlet address = location.querySelector('addrLine')\n\t\tif (address) {\n\t\t\tvalues.description.location.address = address.textContent\n\t\t}\n\t\tlet country = location.querySelector('country')\n\t\tif (country) {\n\t\t\tvalues.description.location.country = {\n\t\t\t\tvalue: country.textContent,\n\t\t\t\tcert: country.getAttribute('cert')\n\t\t\t}\n\t\t}\n\t\tlet region = location.querySelector('region')\n\t\tif (region) {\n\t\t\tvalues.description.location.region = {\n\t\t\t\tvalue: region.textContent,\n\t\t\t\tcert: region.getAttribute('cert')\n\t\t\t}\n\t\t}\n\t\tlet geo = location.querySelector('geo')\n\t\tif (geo) {\n\t\t\tlet latLong = geo.textContent.split(' ')\n\t\t\tvalues.description.location.latitude = latLong[0]\n\t\t\tvalues.description.location.longitude = latLong[1]\n\t\t}\n\t}\n\n\taddNotesJSON(place, values)\n\n\taddSourcesJSON(place, values)\n\n\treturn values\n}\n","// @flow\nimport {get, put, post, parseJSON, parseXML} from '../utils'\n\nimport {json2xml as json2xmlPerson} from './Person/json2xml'\nimport {xml2json as xml2jsonPerson} from './Person/xml2json'\nimport {json2xml as json2xmlOrganization} from './Organization/json2xml'\nimport {xml2json as xml2jsonOrganization} from './Organization/xml2json'\nimport {json2xml as json2xmlPlace} from './Place/json2xml'\nimport {xml2json as xml2jsonPlace} from './Place/xml2json'\n\nimport {getCollectionId} from '../CollectionsSvc'\n\nconst getXmlFromJson = (type, data) => {\n\tlet xml\n\tif (type === 'person') {\n\t\txml = json2xmlPerson(data)\n\t} else if (type === 'place') {\n\t\txml = json2xmlPlace(data)\n\t} else if (type === 'organization') {\n\t\txml = json2xmlOrganization(data)\n\t}\n\tconst s = new XMLSerializer()\n\tconst xmlStr = s.serializeToString(xml)\n\tconsole.log(xmlStr)\n\treturn xmlStr\n}\n\nexport const isEntityLocked = async (id) => {\n\tif (process.env.NODE_ENV === 'development') {\n\t\treturn false;\n\t} else {\n\t\treturn get(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_LOCK_TEMPLATE}/${id}`)\n\t\t\t.then(parseJSON)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.warn('error fetching lock status!', err)\n\t\t\t\t// if we can't determine if it's locked, best err on the side of caution\n\t\t\t\treturn true\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn res.data.locked\n\t\t\t})\n\t}\n}\n\nexport const getPerson = async (id) => {\n\treturn isEntityLocked(id).then(res => {\n\t\tif (res === true) {\n\t\t\tthrow new Error('locked')\n\t\t} else {\n\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\treturn get(`${process.env.REACT_APP_ENTITIES_HOST}/sample_person_entity.xml`)\n\t\t\t\t\t.then(parseXML)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn xml2jsonPerson(res.data)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new Error(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\treturn get(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/person/${id}`)\n\t\t\t\t\t.then(parseXML)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn xml2jsonPerson(res.data)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new Error(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n}\n\nexport const postPerson = async (data) => {\n\tconst xmlStr = getXmlFromJson('person', data)\n\tconst collectionId = getCollectionId('person')\n\treturn post(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/person`, {collectionPID: collectionId, tei: xmlStr}).then(parseJSON)\n}\n\nexport const putPerson = async (id, data) => {\n\tconst xmlStr = getXmlFromJson('person', data)\n\treturn put(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/person/${id}`, xmlStr).then(parseJSON)\n}\n\nexport const getPlace = async (id) => {\n\treturn isEntityLocked(id).then(res => {\n\t\tif (res === true) {\n\t\t\tthrow new Error('locked')\n\t\t} else {\n\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\treturn get(`${process.env.REACT_APP_ENTITIES_HOST}/sample_place_entity.xml`)\n\t\t\t\t\t.then(parseXML)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn xml2jsonPlace(res.data)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new Error(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\treturn get(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/place/${id}`)\n\t\t\t\t\t.then(parseXML)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn xml2jsonPlace(res.data)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new Error(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n}\n\nexport const postPlace = async (data) => {\n\tconst xmlStr = getXmlFromJson('place', data)\n\tconst collectionId = getCollectionId('place')\n\treturn post(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/place`, {collectionPID: collectionId, tei: xmlStr}).then(parseJSON)\n}\nexport const putPlace = async (id, data) => {\n\tconst xmlStr = getXmlFromJson('place', data)\n\treturn put(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/place/${id}`, xmlStr).then(parseJSON)\n}\n\nexport const getOrganization = async (id) => {\n\treturn isEntityLocked(id).then(res => {\n\t\tif (res === true) {\n\t\t\tthrow new Error('locked')\n\t\t} else {\n\t\t\treturn get(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/organization/${id}`)\n\t\t\t\t.then(parseXML)\n\t\t\t\t.then(res => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn xml2jsonOrganization(res.data)\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthrow new Error(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\t})\n}\n\nexport const postOrganization = async (data) => {\n\tconst xmlStr = getXmlFromJson('organization', data)\n\tconst collectionId = getCollectionId('organization')\n\treturn post(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/organization`, {collectionPID: collectionId, tei: xmlStr}).then(parseJSON)\n}\n\nexport const putOrganization = async (id, data) => {\n\tconst xmlStr = getXmlFromJson('organization', data)\n\treturn put(`${process.env.REACT_APP_ENTITIES_HOST}/${process.env.REACT_APP_ENTITIES_BASE}/organization/${id}`, xmlStr).then(parseJSON)\n}\n","import {createXMLFromPath, getDateString, addIdentityXML, addNotesXML, addSourcesXML} from '../../utils/conversion_utilities'\n\nexport const json2xml = (values) => {\n\tlet xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<?xml-model href=\"http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_all.rng\" type=\"application/xml\" schematypens=\"http://relaxng.org/ns/structure/1.0\"?>\n\t<?xml-model href=\"http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_all.rng\" type=\"application/xml\"\n\t\tschematypens=\"http://purl.oclc.org/dsdl/schematron\"?>\n\t<TEI xmlns=\"http://www.tei-c.org/ns/1.0\">\n\t\t<teiHeader>\n\t\t\t<fileDesc>\n\t\t\t\t<titleStmt><title></title></titleStmt>\n\t\t\t\t<publicationStmt>\n\t\t\t\t\t<publisher>Canadian Writing Research Collaboratory (CWRC)</publisher>\n\t\t\t\t\t<availability><licence target=\"https://creativecommons.org/licenses/by/4.0/legalcode\"><p/></licence></availability>\n\t\t\t\t</publicationStmt>\n\t\t\t\t<notesStmt><note>Place entity record</note></notesStmt>\n\t\t\t\t<sourceDesc><p>born digital</p></sourceDesc>\n\t\t\t</fileDesc>\n\t\t</teiHeader>\n\t\t<text>\n\t\t\t<body>\n\t\t\t\t<listPlace><place></place></listPlace>\n\t\t\t</body>\n\t\t</text>\n\t</TEI>`\n\tlet xmlDoc\n\tif (window.DOMParser) {\n\t\tconst parser = new DOMParser()\n\t\txmlDoc = parser.parseFromString(xml, 'text/xml')\n\t} else {\n\t\treturn null\n\t}\n\n\tlet place = xmlDoc.querySelector('place')\n\n\taddIdentityXML(place, 'placeName', values)\n\n\t// description\n\tif (values.description) {\n\t\t// dates\n\t\tif (values.description.dates) {\n\t\t\tfor (let date of values.description.dates) {\n\t\t\t\tlet dateEl = createXMLFromPath(place, `event[@type=\"${date.type}\"]`)\n\t\t\t\tif (date.cert) {\n\t\t\t\t\tdateEl.setAttribute('cert', date.cert)\n\t\t\t\t}\n\t\t\t\tif (date.date1 && date.qualifier1) {\n\t\t\t\t\tdateEl.setAttribute(date.qualifier1, getDateString(date.date1))\n\t\t\t\t}\n\t\t\t\tif (date.date2 && date.qualifier2) {\n\t\t\t\t\tdateEl.setAttribute(date.qualifier2, getDateString(date.date2))\n\t\t\t\t}\n\t\t\t\tlet descEl = createXMLFromPath(dateEl, 'desc')\n\t\t\t\tcreateXMLFromPath(descEl, 'desc', date.note)\n\t\t\t\tif (date.place) {\n\t\t\t\t\tcreateXMLFromPath(descEl, `placeName[@ref=\"${encodeURIComponent(date.place.idno)}\"]`, date.place.name)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// properties\n\t\tlet props = values.description.properties\n\t\tif (props) {\n\t\t\t// factuality\n\t\t\tif (props.factuality) {\n\t\t\t\tlet traitEl = createXMLFromPath(place, 'trait[@type=\"factuality\"]')\n\t\t\t\tif (props.factuality.cert) {\n\t\t\t\t\ttraitEl.setAttribute('cert', props.factuality.cert)\n\t\t\t\t}\n\t\t\t\tcreateXMLFromPath(traitEl, 'ab', props.factuality.value)\n\t\t\t}\n\t\t}\n\t\t// location\n\t\tlet location = values.description.location\n\t\tif (location) {\n\t\t\tlet locEl = createXMLFromPath(place, 'location')\n\t\t\tlet addressEl = createXMLFromPath(locEl, 'address')\n\t\t\t// address\n\t\t\tif (location.address) {\n\t\t\t\tcreateXMLFromPath(addressEl, 'addrLine', location.address)\n\t\t\t}\n\t\t\t// country\n\t\t\tif (location.country) {\n\t\t\t\tlet countryEl = createXMLFromPath(addressEl, 'country[@ref=\"ISO 3166-1\"]', location.country.value)\n\t\t\t\tcountryEl.setAttribute('cert', location.country.cert)\n\t\t\t}\n\t\t\t// region\n\t\t\tif (location.region) {\n\t\t\t\tcreateXMLFromPath(addressEl, `region[@cert=\"${location.region.cert}\"]`, location.region.value)\n\t\t\t}\n\t\t\t// lat long\n\t\t\tif (location.latitude || location.longitude) {\n\t\t\t\tcreateXMLFromPath(locEl, 'geo[@decls=\"#WGS\"]', location.latitude + ' ' + location.longitude)\n\t\t\t}\n\t\t}\n\t\taddNotesXML(place, values)\n\t}\n\t// sources\n\tif (values.sources) {\n\t\taddSourcesXML(place, values)\n\t}\n\n\txmlDoc.querySelectorAll('idno').forEach((idno) => {\n\t\tidno = idno.parentElement.removeChild(idno)\n\t\tplace.appendChild(idno)\n\t})\n\n\treturn xmlDoc\n}\n","import {createXMLFromPath, getDateString, addIdentityXML, addNotesXML, addSourcesXML} from '../../utils/conversion_utilities'\n\nexport const json2xml = (values) => {\n\tlet xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<?xml-model href=\"http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_all.rng\" type=\"application/xml\" schematypens=\"http://relaxng.org/ns/structure/1.0\"?>\n\t<?xml-model href=\"http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_all.rng\" type=\"application/xml\"\n\t\tschematypens=\"http://purl.oclc.org/dsdl/schematron\"?>\n\t<TEI xmlns=\"http://www.tei-c.org/ns/1.0\">\n\t\t<teiHeader>\n\t\t\t<fileDesc>\n\t\t\t\t<titleStmt><title></title></titleStmt>\n\t\t\t\t<publicationStmt>\n\t\t\t\t\t<publisher>Canadian Writing Research Collaboratory (CWRC)</publisher>\n\t\t\t\t\t<availability><licence target=\"https://creativecommons.org/licenses/by/4.0/legalcode\"><p/></licence></availability>\n\t\t\t\t</publicationStmt>\n\t\t\t\t<notesStmt><note>Organization entity record</note></notesStmt>\n\t\t\t\t<sourceDesc><p>born digital</p></sourceDesc>\n\t\t\t</fileDesc>\n\t\t</teiHeader>\n\t\t<text>\n\t\t\t<body>\n\t\t\t\t<listOrg><org></org></listOrg>\n\t\t\t</body>\n\t\t</text>\n\t</TEI>`\n\tlet xmlDoc\n\tif (window.DOMParser) {\n\t\tconst parser = new DOMParser()\n\t\txmlDoc = parser.parseFromString(xml, 'text/xml')\n\t} else {\n\t\treturn null\n\t}\n\n\tlet org = xmlDoc.querySelector('org')\n\n\taddIdentityXML(org, 'orgName', values)\n\n\t// description\n\tif (values.description) {\n\t\t// dates\n\t\tif (values.description.dates) {\n\t\t\tfor (let date of values.description.dates) {\n\t\t\t\tlet dateEl = createXMLFromPath(org, `event[@type=\"${date.type}\"]`)\n\t\t\t\tif (date.cert) {\n\t\t\t\t\tdateEl.setAttribute('cert', date.cert)\n\t\t\t\t}\n\t\t\t\tif (date.date1 && date.qualifier1) {\n\t\t\t\t\tdateEl.setAttribute(date.qualifier1, getDateString(date.date1))\n\t\t\t\t}\n\t\t\t\tif (date.date2 && date.qualifier2) {\n\t\t\t\t\tdateEl.setAttribute(date.qualifier2, getDateString(date.date2))\n\t\t\t\t}\n\t\t\t\tlet descEl = createXMLFromPath(dateEl, 'desc')\n\t\t\t\tcreateXMLFromPath(descEl, 'desc', date.note)\n\t\t\t\tif (date.place) {\n\t\t\t\t\tcreateXMLFromPath(descEl, `placeName[@ref=\"${encodeURIComponent(date.place.idno)}\"]`, date.place.name)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// properties\n\t\tlet props = values.description.properties\n\t\tif (props) {\n\t\t\t// factuality\n\t\t\tif (props.factuality) {\n\t\t\t\tlet traitEl = createXMLFromPath(org, 'trait[@type=\"factuality\"]')\n\t\t\t\tif (props.factuality.cert) {\n\t\t\t\t\ttraitEl.setAttribute('cert', props.factuality.cert)\n\t\t\t\t}\n\t\t\t\tcreateXMLFromPath(traitEl, 'ab', props.factuality.value)\n\t\t\t}\n\t\t\t// type\n\t\t\tif (props.type) {\n\t\t\t\tlet traitEl = createXMLFromPath(org, 'trait[@type=\"orgType\"]')\n\t\t\t\tif (props.type.cert) {\n\t\t\t\t\ttraitEl.setAttribute('cert', props.type.cert)\n\t\t\t\t}\n\t\t\t\tcreateXMLFromPath(traitEl, 'ab', props.type.value)\n\t\t\t}\n\t\t}\n\t\taddNotesXML(org, values)\n\t}\n\t// sources\n\tif (values.sources) {\n\t\taddSourcesXML(org, values)\n\t}\n\n\treturn xmlDoc\n}\n","// @flow\nimport {getPerson, putPerson, postPerson, getPlace, putPlace, postPlace, getOrganization, putOrganization, postOrganization} from '../../api/EntitiesSvc'\n\n// these are imported into the component and then mapped to dispatch\nexport const POST_PERSON = (data) => ({\n\ttype: 'PERSON_POST',\n\tpayload: postPerson(data)\n})\nexport const PUT_PERSON = (id, data) => ({\n\ttype: 'PERSON_PUT',\n\tpayload: putPerson(id, data)\n})\nexport const GET_PERSON = (id) => ({\n\ttype: 'PERSON_GET',\n\tpayload: getPerson(id)\n})\n\nexport const POST_PLACE = (data) => ({\n\ttype: 'PLACE_POST',\n\tpayload: postPlace(data)\n})\nexport const PUT_PLACE = (id, data) => ({\n\ttype: 'PLACE_PUT',\n\tpayload: putPlace(id, data)\n})\nexport const GET_PLACE = (id) => ({\n\ttype: 'PLACE_GET',\n\tpayload: getPlace(id)\n})\n\nexport const POST_ORGANIZATION = (data) => ({\n\ttype: 'ORGANIZATION_POST',\n\tpayload: postOrganization(data)\n})\nexport const PUT_ORGANIZATION = (id, data) => ({\n\ttype: 'ORGANIZATION_PUT',\n\tpayload: putOrganization(id, data)\n})\nexport const GET_ORGANIZATION = (id) => ({\n\ttype: 'ORGANIZATION_GET',\n\tpayload: getOrganization(id)\n})\n","// @flow\nimport React, {Component} from 'react'\nimport {\n\tForm,\n\tHeader,\n\tMessage,\n\tGrid,\n\tButton,\n\tSegment,\n\tDimmer,\n\tLoader,\n\tPopup,\n\tRail\n} from 'semantic-ui-react'\nimport {connect} from 'react-redux'\nimport {\n\treduxForm,\n\tinitialize,\n\tField\n} from 'redux-form'\n\nimport IdentityGroup from '../../components/IdentityGroup'\nimport {DescriptiveNote, ProjectNote} from '../../components/NotesGroup'\nimport {InputField, DropdownComponent} from '../../components/FormControls'\nimport SegmentRepeater from '../../components/SegmentRepeater'\nimport DateRepeater from '../../components/DateRepeater'\nimport EntityLookup from '../../components/EntityLookup'\nimport MessageDialog from '../../components/MessageDialog'\nimport CollectionsDialog from '../../components/CollectionsDialog'\nimport {getCollectionId} from '../../../../api/CollectionsSvc'\n\nimport {personNameTypeOptions, personVariantTypeOptions, personDateTypeOptions, certaintyOptions, factualityOptions, genderOptions} from '../../components/options'\nimport {dateRange} from '../../components/FieldValidation'\n\nimport type {FormProps} from 'redux-form'\n\nimport { BroadcastChannel } from 'broadcast-channel'\n\nimport {\n\tgetEntityId,\n\n\tisPersonPostDone,\n\tisPersonPostPending,\n\tisPersonPostError,\n\tgetPersonPostError,\n\tgetPersonPostData,\n\n\tisPersonGetDone,\n\tisPersonGetPending,\n\tisPersonGetError,\n\tgetPersonGetError,\n\tgetPersonGetData,\n\n\tisPersonPutDone,\n\tisPersonPutPending,\n\tisPersonPutError,\n\tgetPersonPutError,\n\tgetPersonPutData} from '../../../../selectors'\n\nimport {GET_PERSON, PUT_PERSON, POST_PERSON} from '../../../../actions/entities'\n\nimport {xml2json} from '../../../../api/EntitiesSvc/Person/xml2json'\nimport {get, parseXML} from '../../../../api/utils'\n\ntype Props = FormProps\n\nclass PersonComponent extends Component<Props, State> {\n\tcloseForm = (id) => {\n\t\tconst channel = new BroadcastChannel('cwrc-entity-management-forms')\n\t\tchannel.postMessage(id)\n\t\tchannel.close()\n\t}\n\n\tdoSampleLoad = () => {\n\t\tget(process.env.PUBLIC_URL + '/sample_person_entity.xml').then(parseXML).then(res => {\n\t\t\tlet json = xml2json(res.data)\n\t\t\tconsole.log(json)\n\t\t\tthis.props.dispatch(initialize('PERSON_FORM', json))\n\t\t})\n\t}\n\n\tcomponentWillMount () {\n\t\tconst entityId = this.props.entityId\n\t\tif (entityId !== undefined) {\n\t\t\tthis.props.getPerson(entityId)\n\t\t}\n\t}\n\n\tshouldComponentUpdate (nextProps, nextState) {\n\t\tconst values = nextProps.initialValues\n\t\tif (values) {\n\t\t\tif (values.identity.nameParts) {\n\t\t\t\tvalues.identity.nameParts.forEach(np => {\n\t\t\t\t\tlet match = false\n\t\t\t\t\tfor (let n of personNameTypeOptions) {\n\t\t\t\t\t\tif (n.value === np.type) {\n\t\t\t\t\t\t\tmatch = true\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tpersonNameTypeOptions.push({\n\t\t\t\t\t\t\tkey: np.type, value: np.type, text: np.type\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (values.identity.variants) {\n\t\t\t\tvalues.identity.variants.forEach(vr => {\n\t\t\t\t\tlet match = false\n\t\t\t\t\tfor (let v of personVariantTypeOptions) {\n\t\t\t\t\t\tif (v.value === vr.type) {\n\t\t\t\t\t\t\tmatch = true\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tpersonVariantTypeOptions.push({\n\t\t\t\t\t\t\tkey: vr.type, value: vr.type, text: vr.type\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\n\trender () {\n\t\tconst NationalityComponent = ({name}) => (\n\t\t\t<div>\n\t\t\t\t<Grid verticalAlign='middle' columns='equal'>\n\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t// required\n\t\t\t\t\t\t\t// validate={[required]}\n\t\t\t\t\t\t\tlabel=\"Nationality\"\n\t\t\t\t\t\t\tname={`${name}.value`}\n\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\tname={`${name}.cert`}\n\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\n\t\tconst OccupationComponent = ({name}) => (\n\t\t\t<div>\n\t\t\t\t<Grid verticalAlign='middle' columns='equal'>\n\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t// required\n\t\t\t\t\t\t\t// validate={[required]}\n\t\t\t\t\t\t\tlabel=\"Occupation\"\n\t\t\t\t\t\t\tname={`${name}.value`}\n\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\tname={`${name}.cert`}\n\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\n\t\tconst AffiliationComponent = ({name}) => (\n\t\t\t<div>\n\t\t\t\t<Grid verticalAlign='middle' columns='equal'>\n\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t// required\n\t\t\t\t\t\t\t// validate={[required]}\n\t\t\t\t\t\t\tlabel=\"Affiliation\"\n\t\t\t\t\t\t\tname={`${name}.value`}\n\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\tname={`${name}.cert`}\n\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\n\t\tconst {handleSubmit, invalid, submitting} = this.props\n\n\t\treturn (\n\t\t\t<Segment basic>\n\t\t\t\t{this.props.isPersonPostDone ? (\n\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\theader=\"Entity Created!\"\n\t\t\t\t\t\tcontent={<p>New entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.getPersonPostData.data.pid + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.getPersonPostData.data.pid}</a></p>}\n\t\t\t\t\t\tonClose={this.closeForm.bind(this, this.props.getPersonPostData.data.pid)}\n\t\t\t\t\t/>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isPersonPutDone ? (\n\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\theader=\"Entity Edited!\"\n\t\t\t\t\t\tcontent={<p>Entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.getPersonPutData.data.pid + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.getPersonPutData.data.pid}</a></p>}\n\t\t\t\t\t\tonClose={this.closeForm.bind(this, this.props.getPersonPutData.data.pid)}\n\t\t\t\t\t/>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isPersonGetPending ? (\n\t\t\t\t\t<Dimmer active inverted>\n\t\t\t\t\t\t<Loader inverted>Loading Person</Loader>\n\t\t\t\t\t</Dimmer>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isPersonGetError\n\t\t\t\t\t? (this.props.getPersonGetError.message === 'locked' ? (\n\t\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\t\theader=\"Entity is Locked!\"\n\t\t\t\t\t\t\tcontent={<p>The entity <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.entityId + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.entityId}</a> is locked and therefore cannot be edited.</p>}\n\t\t\t\t\t\t\tonClose={this.closeForm.bind(this, undefined)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\t\theader=\"Error Loading Entity!\"\n\t\t\t\t\t\t\tcontent={<p>An error occurred when loading the entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.entityId + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.entityId}</a><br/>It is probably encoded in an unsupported format and therefore cannot be edited.</p>}\n\t\t\t\t\t\t\tonClose={this.closeForm.bind(this, undefined)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)) : ''}\n\t\t\t\t{this.props.entityId === undefined && this.props.getCollectionId === undefined ? (\n\t\t\t\t\t<CollectionsDialog entityType=\"person\"/>\n\t\t\t\t) : ''}\n\t\t\t\t<Form onSubmit={handleSubmit} error={invalid}>\n\n\t\t\t\t\t<Header as=\"h2\">Identity</Header>\n\n\t\t\t\t\t<IdentityGroup\n\t\t\t\t\t\tentityType=\"person\"\n\t\t\t\t\t\tnameOptions={personNameTypeOptions}\n\t\t\t\t\t\tvariantOptions={personVariantTypeOptions}\n\t\t\t\t\t\tcertaintyOptions={certaintyOptions}\n\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Header as=\"h2\">Description</Header>\n\n\t\t\t\t\t<Segment.Group>\n\t\t\t\t\t\t<DateRepeater\n\t\t\t\t\t\t\tfieldArrayName=\"description.dates\"\n\t\t\t\t\t\t\theaderLabel=\"Important Date(s)\"\n\t\t\t\t\t\t\tcomponentLabel=\"Date\"\n\t\t\t\t\t\t\tdateTypeOptions={personDateTypeOptions}\n\t\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Header as='h4'>Properties</Header>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Factuality\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.properties.factuality.value\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\toptions={factualityOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\tname='description.properties.factuality.cert'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Gender\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.properties.gender.value\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\t\tscrolling\n\t\t\t\t\t\t\t\t\t\t\toptions={genderOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\tname='description.properties.gender.cert'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t<SegmentRepeater\n\t\t\t\t\t\t\tfieldArrayName=\"description.properties.nationality\"\n\t\t\t\t\t\t\theaderLabel=\"Nationality\"\n\t\t\t\t\t\t\tcomponentLabel=\"Nationality\"\n\t\t\t\t\t\t\tRepeatableComponent={NationalityComponent}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SegmentRepeater\n\t\t\t\t\t\t\tfieldArrayName=\"description.properties.occupation\"\n\t\t\t\t\t\t\theaderLabel=\"Occupation\"\n\t\t\t\t\t\t\tcomponentLabel=\"Occupation\"\n\t\t\t\t\t\t\tRepeatableComponent={OccupationComponent}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SegmentRepeater\n\t\t\t\t\t\t\tfieldArrayName=\"description.properties.affiliation\"\n\t\t\t\t\t\t\theaderLabel=\"Affiliation\"\n\t\t\t\t\t\t\tcomponentLabel=\"Affiliation\"\n\t\t\t\t\t\t\tRepeatableComponent={AffiliationComponent}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<DescriptiveNote />\n\t\t\t\t\t\t<ProjectNote changeFunc={this.props.change}/>\n\t\t\t\t\t</Segment.Group>\n\n\t\t\t\t\t<Header as=\"h2\">Sources</Header>\n\t\t\t\t\t<SegmentRepeater\n\t\t\t\t\t\tfieldArrayName=\"sources.bibl\"\n\t\t\t\t\t\theaderLabel=\"\"\n\t\t\t\t\t\tcomponentLabel=\"Source\"\n\t\t\t\t\t\tRepeatableComponent={EntityLookup}\n\t\t\t\t\t\tbuttonLabel='Add Source'\n\t\t\t\t\t\tentityType='title'\n\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Field key=\"non_field_errors\"\n\t\t\t\t\t\tname=\"non_field_errors\"\n\t\t\t\t\t\tcomponent={({meta: {error}}) => {\n\t\t\t\t\t\t\treturn error ? (\n\t\t\t\t\t\t\t\t<Message error>\n\t\t\t\t\t\t\t\t\t<Message.Header>{'Login failed :('}</Message.Header>\n\t\t\t\t\t\t\t\t\t<p>{error}</p>\n\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div style={{textAlign: 'center'}}>\n\t\t\t\t\t\t{/* <Button type=\"button\" content=\"Load Sample Person (local)\" icon=\"cloud download\" onClick={this.doSampleLoad}/> */}\n\t\t\t\t\t\t{/* <Button type=\"button\" content=\"Load Person (remote)\" icon=\"cloud download\" onClick={this.testGet}/> */}\n\t\t\t\t\t\t{invalid ? (\n\t\t\t\t\t\t\t<Popup size='tiny' position='right center' trigger={\n\t\t\t\t\t\t\t\t<span><Button content=\"Submit\" icon=\"sign in\" disabled={true}/></span>\n\t\t\t\t\t\t\t} content=\"Please fix invalid fields before submitting\"/>\n\t\t\t\t\t\t) : <Button content=\"Submit\" icon=\"sign in\" loading={submitting}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nconst onSubmit = (values, dispatch, props) => {\n\tif (props.isPersonGetDone && props.entityId !== undefined) {\n\t\treturn props.putPerson(props.entityId, values)\n\t} else {\n\t\treturn props.postPerson(values)\n\t}\n}\n\nconst validate = values => {\n\tconst errors = {}\n\tif (values.description && values.description.dates) {\n\t\terrors.description = {\n\t\t\tdates: []\n\t\t}\n\t\tfor (const date of values.description.dates) {\n\t\t\tconst error = dateRange(date)\n\t\t\tif (error !== undefined) {\n\t\t\t\terrors.description.dates.push(error)\n\t\t\t}\n\t\t}\n\t}\n\treturn errors\n}\n\n// i.e. model -> view\nconst mapStateToProps = state => {\n\treturn {\n\t\tinitialValues: getPersonGetData(state),\n\t\tentityId: getEntityId(state),\n\t\tgetCollectionId: getCollectionId('person'),\n\n\t\tisPersonPostDone: isPersonPostDone(state),\n\t\tisPersonPostPending: isPersonPostPending(state),\n\t\tisPersonPostError: isPersonPostError(state),\n\t\tgetPersonPostError: getPersonPostError(state),\n\t\tgetPersonPostData: getPersonPostData(state),\n\n\t\tisPersonGetDone: isPersonGetDone(state),\n\t\tisPersonGetPending: isPersonGetPending(state),\n\t\tisPersonGetError: isPersonGetError(state),\n\t\tgetPersonGetError: getPersonGetError(state),\n\t\tgetPersonGetData: getPersonGetData(state),\n\n\t\tisPersonPutDone: isPersonPutDone(state),\n\t\tisPersonPutPending: isPersonPutPending(state),\n\t\tisPersonPutError: isPersonPutError(state),\n\t\tgetPersonPutError: getPersonPutError(state),\n\t\tgetPersonPutData: getPersonPutData(state)\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tasync getPerson (id) {\n\t\t\treturn dispatch(GET_PERSON(id))\n\t\t},\n\t\tasync putPerson (id, data) {\n\t\t\treturn dispatch(PUT_PERSON(id, data))\n\t\t},\n\t\tasync postPerson (data) {\n\t\t\treturn dispatch(POST_PERSON(data))\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxForm({\n\tform: 'PERSON_FORM',\n\tvalidate,\n\tonSubmit\n})(PersonComponent))\n","// @flow\nimport React from 'react'\nimport PersonForm from './components/PersonForm.jsx'\nimport {Helmet} from 'react-helmet'\n\nconst PersonEdit = ({login, errors}: Props) => {\n\treturn (\n\t\t<div>\n\t\t\t<Helmet>\n\t\t\t\t<title>CWRC: Person Entity</title>\n\t\t\t</Helmet>\n\t\t\t<PersonForm />\n\t\t</div>\n\t)\n}\n\nexport default PersonEdit\n","export default [\n\t{'key': '', 'value': '', text: ''}, {'key': 'ABW', 'text': 'Aruba', 'value': 'ABW'}, {'key': 'AFG', 'text': 'Afghanistan', 'value': 'AFG'}, {'key': 'AGO', 'text': 'Angola', 'value': 'AGO'}, {'key': 'AIA', 'text': 'Anguilla', 'value': 'AIA'}, {'key': 'ALA', 'text': 'land Islands', 'value': 'ALA'}, {'key': 'ALB', 'text': 'Albania', 'value': 'ALB'}, {'key': 'AND', 'text': 'Andorra', 'value': 'AND'}, {'key': 'ARE', 'text': 'United Arab Emirates', 'value': 'ARE'}, {'key': 'ARG', 'text': 'Argentina', 'value': 'ARG'}, {'key': 'ARM', 'text': 'Armenia', 'value': 'ARM'}, {'key': 'ASM', 'text': 'American Samoa', 'value': 'ASM'}, {'key': 'ATA', 'text': 'Antarctica', 'value': 'ATA'}, {'key': 'ATF', 'text': 'French Southern and Antarctic Lands', 'value': 'ATF'}, {'key': 'ATG', 'text': 'Antigua and Barbuda', 'value': 'ATG'}, {'key': 'AUS', 'text': 'Australia', 'value': 'AUS'}, {'key': 'AUT', 'text': 'Austria', 'value': 'AUT'}, {'key': 'AZE', 'text': 'Azerbaijan', 'value': 'AZE'}, {'key': 'BDI', 'text': 'Burundi', 'value': 'BDI'}, {'key': 'BEL', 'text': 'Belgium', 'value': 'BEL'}, {'key': 'BEN', 'text': 'Benin', 'value': 'BEN'}, {'key': 'BFA', 'text': 'Burkina Faso', 'value': 'BFA'}, {'key': 'BGD', 'text': 'Bangladesh', 'value': 'BGD'}, {'key': 'BGR', 'text': 'Bulgaria', 'value': 'BGR'}, {'key': 'BHR', 'text': 'Bahrain', 'value': 'BHR'}, {'key': 'BHS', 'text': 'Bahamas', 'value': 'BHS'}, {'key': 'BIH', 'text': 'Bosnia and Herzegovina', 'value': 'BIH'}, {'key': 'BLM', 'text': 'Saint Barthlemy', 'value': 'BLM'}, {'key': 'SHN', 'text': 'Saint Helena, Ascension and Tristan da Cunha', 'value': 'SHN'}, {'key': 'BLR', 'text': 'Belarus', 'value': 'BLR'}, {'key': 'BLZ', 'text': 'Belize', 'value': 'BLZ'}, {'key': 'BMU', 'text': 'Bermuda', 'value': 'BMU'}, {'key': 'BOL', 'text': 'Bolivia', 'value': 'BOL'}, {'key': 'BES', 'text': 'Caribbean Netherlands', 'value': 'BES'}, {'key': 'BRA', 'text': 'Brazil', 'value': 'BRA'}, {'key': 'BRB', 'text': 'Barbados', 'value': 'BRB'}, {'key': 'BRN', 'text': 'Brunei', 'value': 'BRN'}, {'key': 'BTN', 'text': 'Bhutan', 'value': 'BTN'}, {'key': 'BVT', 'text': 'Bouvet Island', 'value': 'BVT'}, {'key': 'BWA', 'text': 'Botswana', 'value': 'BWA'}, {'key': 'CAF', 'text': 'Central African Republic', 'value': 'CAF'}, {'key': 'CAN', 'text': 'Canada', 'value': 'CAN'}, {'key': 'CCK', 'text': 'Cocos (Keeling) Islands', 'value': 'CCK'}, {'key': 'CHE', 'text': 'Switzerland', 'value': 'CHE'}, {'key': 'CHL', 'text': 'Chile', 'value': 'CHL'}, {'key': 'CHN', 'text': 'China', 'value': 'CHN'}, {'key': 'CIV', 'text': 'Ivory Coast', 'value': 'CIV'}, {'key': 'CMR', 'text': 'Cameroon', 'value': 'CMR'}, {'key': 'COD', 'text': 'DR Congo', 'value': 'COD'}, {'key': 'COG', 'text': 'Republic of the Congo', 'value': 'COG'}, {'key': 'COK', 'text': 'Cook Islands', 'value': 'COK'}, {'key': 'COL', 'text': 'Colombia', 'value': 'COL'}, {'key': 'COM', 'text': 'Comoros', 'value': 'COM'}, {'key': 'CPV', 'text': 'Cape Verde', 'value': 'CPV'}, {'key': 'CRI', 'text': 'Costa Rica', 'value': 'CRI'}, {'key': 'CUB', 'text': 'Cuba', 'value': 'CUB'}, {'key': 'CUW', 'text': 'Curaao', 'value': 'CUW'}, {'key': 'CXR', 'text': 'Christmas Island', 'value': 'CXR'}, {'key': 'CYM', 'text': 'Cayman Islands', 'value': 'CYM'}, {'key': 'CYP', 'text': 'Cyprus', 'value': 'CYP'}, {'key': 'CZE', 'text': 'Czechia', 'value': 'CZE'}, {'key': 'DEU', 'text': 'Germany', 'value': 'DEU'}, {'key': 'DJI', 'text': 'Djibouti', 'value': 'DJI'}, {'key': 'DMA', 'text': 'Dominica', 'value': 'DMA'}, {'key': 'DNK', 'text': 'Denmark', 'value': 'DNK'}, {'key': 'DOM', 'text': 'Dominican Republic', 'value': 'DOM'}, {'key': 'DZA', 'text': 'Algeria', 'value': 'DZA'}, {'key': 'ECU', 'text': 'Ecuador', 'value': 'ECU'}, {'key': 'EGY', 'text': 'Egypt', 'value': 'EGY'}, {'key': 'ERI', 'text': 'Eritrea', 'value': 'ERI'}, {'key': 'ESH', 'text': 'Western Sahara', 'value': 'ESH'}, {'key': 'ESP', 'text': 'Spain', 'value': 'ESP'}, {'key': 'EST', 'text': 'Estonia', 'value': 'EST'}, {'key': 'ETH', 'text': 'Ethiopia', 'value': 'ETH'}, {'key': 'FIN', 'text': 'Finland', 'value': 'FIN'}, {'key': 'FJI', 'text': 'Fiji', 'value': 'FJI'}, {'key': 'FLK', 'text': 'Falkland Islands', 'value': 'FLK'}, {'key': 'FRA', 'text': 'France', 'value': 'FRA'}, {'key': 'FRO', 'text': 'Faroe Islands', 'value': 'FRO'}, {'key': 'FSM', 'text': 'Micronesia', 'value': 'FSM'}, {'key': 'GAB', 'text': 'Gabon', 'value': 'GAB'}, {'key': 'GBR', 'text': 'United Kingdom', 'value': 'GBR'}, {'key': 'GEO', 'text': 'Georgia', 'value': 'GEO'}, {'key': 'GGY', 'text': 'Guernsey', 'value': 'GGY'}, {'key': 'GHA', 'text': 'Ghana', 'value': 'GHA'}, {'key': 'GIB', 'text': 'Gibraltar', 'value': 'GIB'}, {'key': 'GIN', 'text': 'Guinea', 'value': 'GIN'}, {'key': 'GLP', 'text': 'Guadeloupe', 'value': 'GLP'}, {'key': 'GMB', 'text': 'Gambia', 'value': 'GMB'}, {'key': 'GNB', 'text': 'Guinea-Bissau', 'value': 'GNB'}, {'key': 'GNQ', 'text': 'Equatorial Guinea', 'value': 'GNQ'}, {'key': 'GRC', 'text': 'Greece', 'value': 'GRC'}, {'key': 'GRD', 'text': 'Grenada', 'value': 'GRD'}, {'key': 'GRL', 'text': 'Greenland', 'value': 'GRL'}, {'key': 'GTM', 'text': 'Guatemala', 'value': 'GTM'}, {'key': 'GUF', 'text': 'French Guiana', 'value': 'GUF'}, {'key': 'GUM', 'text': 'Guam', 'value': 'GUM'}, {'key': 'GUY', 'text': 'Guyana', 'value': 'GUY'}, {'key': 'HKG', 'text': 'Hong Kong', 'value': 'HKG'}, {'key': 'HMD', 'text': 'Heard Island and McDonald Islands', 'value': 'HMD'}, {'key': 'HND', 'text': 'Honduras', 'value': 'HND'}, {'key': 'HRV', 'text': 'Croatia', 'value': 'HRV'}, {'key': 'HTI', 'text': 'Haiti', 'value': 'HTI'}, {'key': 'HUN', 'text': 'Hungary', 'value': 'HUN'}, {'key': 'IDN', 'text': 'Indonesia', 'value': 'IDN'}, {'key': 'IMN', 'text': 'Isle of Man', 'value': 'IMN'}, {'key': 'IND', 'text': 'India', 'value': 'IND'}, {'key': 'IOT', 'text': 'British Indian Ocean Territory', 'value': 'IOT'}, {'key': 'IRL', 'text': 'Ireland', 'value': 'IRL'}, {'key': 'IRN', 'text': 'Iran', 'value': 'IRN'}, {'key': 'IRQ', 'text': 'Iraq', 'value': 'IRQ'}, {'key': 'ISL', 'text': 'Iceland', 'value': 'ISL'}, {'key': 'ISR', 'text': 'Israel', 'value': 'ISR'}, {'key': 'ITA', 'text': 'Italy', 'value': 'ITA'}, {'key': 'JAM', 'text': 'Jamaica', 'value': 'JAM'}, {'key': 'JEY', 'text': 'Jersey', 'value': 'JEY'}, {'key': 'JOR', 'text': 'Jordan', 'value': 'JOR'}, {'key': 'JPN', 'text': 'Japan', 'value': 'JPN'}, {'key': 'KAZ', 'text': 'Kazakhstan', 'value': 'KAZ'}, {'key': 'KEN', 'text': 'Kenya', 'value': 'KEN'}, {'key': 'KGZ', 'text': 'Kyrgyzstan', 'value': 'KGZ'}, {'key': 'KHM', 'text': 'Cambodia', 'value': 'KHM'}, {'key': 'KIR', 'text': 'Kiribati', 'value': 'KIR'}, {'key': 'KNA', 'text': 'Saint Kitts and Nevis', 'value': 'KNA'}, {'key': 'KOR', 'text': 'South Korea', 'value': 'KOR'}, {'key': 'UNK', 'text': 'Kosovo', 'value': 'UNK'}, {'key': 'KWT', 'text': 'Kuwait', 'value': 'KWT'}, {'key': 'LAO', 'text': 'Laos', 'value': 'LAO'}, {'key': 'LBN', 'text': 'Lebanon', 'value': 'LBN'}, {'key': 'LBR', 'text': 'Liberia', 'value': 'LBR'}, {'key': 'LBY', 'text': 'Libya', 'value': 'LBY'}, {'key': 'LCA', 'text': 'Saint Lucia', 'value': 'LCA'}, {'key': 'LIE', 'text': 'Liechtenstein', 'value': 'LIE'}, {'key': 'LKA', 'text': 'Sri Lanka', 'value': 'LKA'}, {'key': 'LSO', 'text': 'Lesotho', 'value': 'LSO'}, {'key': 'LTU', 'text': 'Lithuania', 'value': 'LTU'}, {'key': 'LUX', 'text': 'Luxembourg', 'value': 'LUX'}, {'key': 'LVA', 'text': 'Latvia', 'value': 'LVA'}, {'key': 'MAC', 'text': 'Macau', 'value': 'MAC'}, {'key': 'MAF', 'text': 'Saint Martin', 'value': 'MAF'}, {'key': 'MAR', 'text': 'Morocco', 'value': 'MAR'}, {'key': 'MCO', 'text': 'Monaco', 'value': 'MCO'}, {'key': 'MDA', 'text': 'Moldova', 'value': 'MDA'}, {'key': 'MDG', 'text': 'Madagascar', 'value': 'MDG'}, {'key': 'MDV', 'text': 'Maldives', 'value': 'MDV'}, {'key': 'MEX', 'text': 'Mexico', 'value': 'MEX'}, {'key': 'MHL', 'text': 'Marshall Islands', 'value': 'MHL'}, {'key': 'MKD', 'text': 'Macedonia', 'value': 'MKD'}, {'key': 'MLI', 'text': 'Mali', 'value': 'MLI'}, {'key': 'MLT', 'text': 'Malta', 'value': 'MLT'}, {'key': 'MMR', 'text': 'Myanmar', 'value': 'MMR'}, {'key': 'MNE', 'text': 'Montenegro', 'value': 'MNE'}, {'key': 'MNG', 'text': 'Mongolia', 'value': 'MNG'}, {'key': 'MNP', 'text': 'Northern Mariana Islands', 'value': 'MNP'}, {'key': 'MOZ', 'text': 'Mozambique', 'value': 'MOZ'}, {'key': 'MRT', 'text': 'Mauritania', 'value': 'MRT'}, {'key': 'MSR', 'text': 'Montserrat', 'value': 'MSR'}, {'key': 'MTQ', 'text': 'Martinique', 'value': 'MTQ'}, {'key': 'MUS', 'text': 'Mauritius', 'value': 'MUS'}, {'key': 'MWI', 'text': 'Malawi', 'value': 'MWI'}, {'key': 'MYS', 'text': 'Malaysia', 'value': 'MYS'}, {'key': 'MYT', 'text': 'Mayotte', 'value': 'MYT'}, {'key': 'NAM', 'text': 'Namibia', 'value': 'NAM'}, {'key': 'NCL', 'text': 'New Caledonia', 'value': 'NCL'}, {'key': 'NER', 'text': 'Niger', 'value': 'NER'}, {'key': 'NFK', 'text': 'Norfolk Island', 'value': 'NFK'}, {'key': 'NGA', 'text': 'Nigeria', 'value': 'NGA'}, {'key': 'NIC', 'text': 'Nicaragua', 'value': 'NIC'}, {'key': 'NIU', 'text': 'Niue', 'value': 'NIU'}, {'key': 'NLD', 'text': 'Netherlands', 'value': 'NLD'}, {'key': 'NOR', 'text': 'Norway', 'value': 'NOR'}, {'key': 'NPL', 'text': 'Nepal', 'value': 'NPL'}, {'key': 'NRU', 'text': 'Nauru', 'value': 'NRU'}, {'key': 'NZL', 'text': 'New Zealand', 'value': 'NZL'}, {'key': 'OMN', 'text': 'Oman', 'value': 'OMN'}, {'key': 'PAK', 'text': 'Pakistan', 'value': 'PAK'}, {'key': 'PAN', 'text': 'Panama', 'value': 'PAN'}, {'key': 'PCN', 'text': 'Pitcairn Islands', 'value': 'PCN'}, {'key': 'PER', 'text': 'Peru', 'value': 'PER'}, {'key': 'PHL', 'text': 'Philippines', 'value': 'PHL'}, {'key': 'PLW', 'text': 'Palau', 'value': 'PLW'}, {'key': 'PNG', 'text': 'Papua New Guinea', 'value': 'PNG'}, {'key': 'POL', 'text': 'Poland', 'value': 'POL'}, {'key': 'PRI', 'text': 'Puerto Rico', 'value': 'PRI'}, {'key': 'PRK', 'text': 'North Korea', 'value': 'PRK'}, {'key': 'PRT', 'text': 'Portugal', 'value': 'PRT'}, {'key': 'PRY', 'text': 'Paraguay', 'value': 'PRY'}, {'key': 'PSE', 'text': 'Palestine', 'value': 'PSE'}, {'key': 'PYF', 'text': 'French Polynesia', 'value': 'PYF'}, {'key': 'QAT', 'text': 'Qatar', 'value': 'QAT'}, {'key': 'REU', 'text': 'Runion', 'value': 'REU'}, {'key': 'ROU', 'text': 'Romania', 'value': 'ROU'}, {'key': 'RUS', 'text': 'Russia', 'value': 'RUS'}, {'key': 'RWA', 'text': 'Rwanda', 'value': 'RWA'}, {'key': 'SAU', 'text': 'Saudi Arabia', 'value': 'SAU'}, {'key': 'SDN', 'text': 'Sudan', 'value': 'SDN'}, {'key': 'SEN', 'text': 'Senegal', 'value': 'SEN'}, {'key': 'SGP', 'text': 'Singapore', 'value': 'SGP'}, {'key': 'SGS', 'text': 'South Georgia', 'value': 'SGS'}, {'key': 'SJM', 'text': 'Svalbard and Jan Mayen', 'value': 'SJM'}, {'key': 'SLB', 'text': 'Solomon Islands', 'value': 'SLB'}, {'key': 'SLE', 'text': 'Sierra Leone', 'value': 'SLE'}, {'key': 'SLV', 'text': 'El Salvador', 'value': 'SLV'}, {'key': 'SMR', 'text': 'San Marino', 'value': 'SMR'}, {'key': 'SOM', 'text': 'Somalia', 'value': 'SOM'}, {'key': 'SPM', 'text': 'Saint Pierre and Miquelon', 'value': 'SPM'}, {'key': 'SRB', 'text': 'Serbia', 'value': 'SRB'}, {'key': 'SSD', 'text': 'South Sudan', 'value': 'SSD'}, {'key': 'STP', 'text': 'So Tom and Prncipe', 'value': 'STP'}, {'key': 'SUR', 'text': 'Suriname', 'value': 'SUR'}, {'key': 'SVK', 'text': 'Slovakia', 'value': 'SVK'}, {'key': 'SVN', 'text': 'Slovenia', 'value': 'SVN'}, {'key': 'SWE', 'text': 'Sweden', 'value': 'SWE'}, {'key': 'SWZ', 'text': 'Swaziland', 'value': 'SWZ'}, {'key': 'SXM', 'text': 'Sint Maarten', 'value': 'SXM'}, {'key': 'SYC', 'text': 'Seychelles', 'value': 'SYC'}, {'key': 'SYR', 'text': 'Syria', 'value': 'SYR'}, {'key': 'TCA', 'text': 'Turks and Caicos Islands', 'value': 'TCA'}, {'key': 'TCD', 'text': 'Chad', 'value': 'TCD'}, {'key': 'TGO', 'text': 'Togo', 'value': 'TGO'}, {'key': 'THA', 'text': 'Thailand', 'value': 'THA'}, {'key': 'TJK', 'text': 'Tajikistan', 'value': 'TJK'}, {'key': 'TKL', 'text': 'Tokelau', 'value': 'TKL'}, {'key': 'TKM', 'text': 'Turkmenistan', 'value': 'TKM'}, {'key': 'TLS', 'text': 'Timor-Leste', 'value': 'TLS'}, {'key': 'TON', 'text': 'Tonga', 'value': 'TON'}, {'key': 'TTO', 'text': 'Trinidad and Tobago', 'value': 'TTO'}, {'key': 'TUN', 'text': 'Tunisia', 'value': 'TUN'}, {'key': 'TUR', 'text': 'Turkey', 'value': 'TUR'}, {'key': 'TUV', 'text': 'Tuvalu', 'value': 'TUV'}, {'key': 'TWN', 'text': 'Taiwan', 'value': 'TWN'}, {'key': 'TZA', 'text': 'Tanzania', 'value': 'TZA'}, {'key': 'UGA', 'text': 'Uganda', 'value': 'UGA'}, {'key': 'UKR', 'text': 'Ukraine', 'value': 'UKR'}, {'key': 'UMI', 'text': 'United States Minor Outlying Islands', 'value': 'UMI'}, {'key': 'URY', 'text': 'Uruguay', 'value': 'URY'}, {'key': 'USA', 'text': 'United States', 'value': 'USA'}, {'key': 'UZB', 'text': 'Uzbekistan', 'value': 'UZB'}, {'key': 'VAT', 'text': 'Vatican City', 'value': 'VAT'}, {'key': 'VCT', 'text': 'Saint Vincent and the Grenadines', 'value': 'VCT'}, {'key': 'VEN', 'text': 'Venezuela', 'value': 'VEN'}, {'key': 'VGB', 'text': 'British Virgin Islands', 'value': 'VGB'}, {'key': 'VIR', 'text': 'United States Virgin Islands', 'value': 'VIR'}, {'key': 'VNM', 'text': 'Vietnam', 'value': 'VNM'}, {'key': 'VUT', 'text': 'Vanuatu', 'value': 'VUT'}, {'key': 'WLF', 'text': 'Wallis and Futuna', 'value': 'WLF'}, {'key': 'WSM', 'text': 'Samoa', 'value': 'WSM'}, {'key': 'YEM', 'text': 'Yemen', 'value': 'YEM'}, {'key': 'ZAF', 'text': 'South Africa', 'value': 'ZAF'}, {'key': 'ZMB', 'text': 'Zambia', 'value': 'ZMB'}, {'key': 'ZWE', 'text': 'Zimbabwe', 'value': 'ZWE'}]\n","// @flow\nimport React, {Component} from 'react'\nimport {\n\tForm,\n\tHeader,\n\tMessage,\n\tGrid,\n\tButton,\n\tSegment,\n\tDimmer,\n\tLoader,\n\tPopup,\n\tRail\n} from 'semantic-ui-react'\nimport {connect} from 'react-redux'\nimport {\n\treduxForm,\n\tinitialize,\n\tField\n} from 'redux-form'\n\nimport IdentityGroup from '../../components/IdentityGroup'\nimport {DescriptiveNote, ProjectNote} from '../../components/NotesGroup'\nimport {InputField, DropdownComponent} from '../../components/FormControls'\nimport SegmentRepeater from '../../components/SegmentRepeater'\nimport DateRepeater from '../../components/DateRepeater'\nimport EntityLookup from '../../components/EntityLookup'\nimport MessageDialog from '../../components/MessageDialog'\nimport CollectionsDialog from '../../components/CollectionsDialog'\nimport {getCollectionId} from '../../../../api/CollectionsSvc'\n\nimport {nonPersonVariantTypeOptions, nonPersonDateTypeOptions, factualityOptions, certaintyOptions} from '../../components/options'\nimport countries from '../../../../static/countries'\n\nimport {latitude, longitude, dateRange} from '../../components/FieldValidation'\n\nimport { BroadcastChannel } from 'broadcast-channel'\n\nimport type {FormProps} from 'redux-form'\n\nimport {\n\tgetEntityId,\n\n\tisPlacePostDone,\n\tisPlacePostPending,\n\tisPlacePostError,\n\tgetPlacePostError,\n\tgetPlacePostData,\n\n\tisPlaceGetDone,\n\tisPlaceGetPending,\n\tisPlaceGetError,\n\tgetPlaceGetError,\n\tgetPlaceGetData,\n\n\tisPlacePutDone,\n\tisPlacePutPending,\n\tisPlacePutError,\n\tgetPlacePutError,\n\tgetPlacePutData} from '../../../../selectors'\n\nimport {GET_PLACE, PUT_PLACE, POST_PLACE} from '../../../../actions/entities'\n\ntype Props = FormProps\n\nclass PlaceComponent extends Component<Props, State> {\n\tcloseForm = (id) => {\n\t\tconst channel = new BroadcastChannel('cwrc-entity-management-forms')\n\t\tchannel.postMessage(id)\n\t\tchannel.close()\n\t}\n\n\tcomponentWillMount () {\n\t\tconst entityId = this.props.entityId\n\t\tif (entityId !== undefined) {\n\t\t\tthis.props.getPlace(entityId)\n\t\t}\n\t}\n\n\tshouldComponentUpdate (nextProps, nextState) {\n\t\tconst values = nextProps.initialValues\n\t\tif (values) {\n\t\t\tif (values.identity.variants) {\n\t\t\t\tvalues.identity.variants.forEach(vr => {\n\t\t\t\t\tlet match = false\n\t\t\t\t\tfor (let v of nonPersonVariantTypeOptions) {\n\t\t\t\t\t\tif (v.value === vr.type) {\n\t\t\t\t\t\t\tmatch = true\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tnonPersonVariantTypeOptions.push({\n\t\t\t\t\t\t\tkey: vr.type, value: vr.type, text: vr.type\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\n\trender () {\n\t\tconst {handleSubmit, invalid, submitting} = this.props\n\n\t\treturn (\n\t\t\t<Segment basic>\n\t\t\t\t{this.props.isPlacePostDone ? (\n\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\theader=\"Entity Created!\"\n\t\t\t\t\t\tcontent={<p>New entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.getPlacePostData.data.pid + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.getPlacePostData.data.pid}</a></p>}\n\t\t\t\t\t\tonClose={this.closeForm.bind(this, this.props.getPlacePostData.data.pid)}\n\t\t\t\t\t/>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isPlacePutDone ? (\n\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\theader=\"Entity Edited!\"\n\t\t\t\t\t\tcontent={<p>Entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.getPlacePutData.data.pid + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.getPlacePutData.data.pid}</a></p>}\n\t\t\t\t\t\tonClose={this.closeForm.bind(this, this.props.getPlacePutData.data.pid)}\n\t\t\t\t\t/>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isPlaceGetPending ? (\n\t\t\t\t\t<Dimmer active inverted>\n\t\t\t\t\t\t<Loader inverted>Loading Place</Loader>\n\t\t\t\t\t</Dimmer>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isPlaceGetError\n\t\t\t\t\t? (this.props.getPlaceGetError.message === 'locked' ? (\n\t\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\t\theader=\"Entity is Locked!\"\n\t\t\t\t\t\t\tcontent={<p>The entity <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.entityId + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.entityId}</a> is locked and therefore cannot be edited.</p>}\n\t\t\t\t\t\t\tonClose={this.closeForm.bind(this, undefined)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\t\theader=\"Error Loading Entity!\"\n\t\t\t\t\t\t\tcontent={<p>An error occurred when loading the entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.entityId + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.entityId}</a><br/>It is probably encoded in an unsupported format and therefore cannot be edited.</p>}\n\t\t\t\t\t\t\tonClose={this.closeForm.bind(this, undefined)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)) : ''}\n\t\t\t\t{this.props.entityId === undefined && this.props.getCollectionId === undefined ? (\n\t\t\t\t\t<CollectionsDialog entityType=\"place\"/>\n\t\t\t\t) : ''}\n\t\t\t\t<Form onSubmit={handleSubmit} error={invalid}>\n\n\t\t\t\t\t<Header as=\"h2\">Identity</Header>\n\n\t\t\t\t\t<IdentityGroup\n\t\t\t\t\t\tentityType=\"place\"\n\t\t\t\t\t\tnameOptions={null}\n\t\t\t\t\t\tvariantOptions={nonPersonVariantTypeOptions}\n\t\t\t\t\t\tcertaintyOptions={certaintyOptions}\n\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Header as=\"h2\">Description</Header>\n\n\t\t\t\t\t<Segment.Group>\n\t\t\t\t\t\t<DateRepeater\n\t\t\t\t\t\t\tfieldArrayName=\"description.dates\"\n\t\t\t\t\t\t\theaderLabel=\"Important Date(s)\"\n\t\t\t\t\t\t\tcomponentLabel=\"Date\"\n\t\t\t\t\t\t\tdateTypeOptions={nonPersonDateTypeOptions}\n\t\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Header as='h4'>Properties</Header>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Factuality\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.properties.factuality.value\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\toptions={factualityOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\tname='description.properties.factuality.cert'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t<Header as='h4'>Location</Header>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Country\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.location.country.value\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\t\t\t\tscrolling\n\t\t\t\t\t\t\t\t\t\t\toptions={countries}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\tname='description.location.country.cert'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Region\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.location.region.value\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\tname='description.location.region.cert'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\tlabel=\"Address\"\n\t\t\t\t\t\t\t\t\tname=\"description.location.address\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t\t\t<Grid.Column width={3}>\n\t\t\t\t\t\t\t\t\t\t<Header as='h5'>Coordinates</Header>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column width={6}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\tvalidate={[latitude]}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Latitude\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.location.latitude\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column width={7}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\tvalidate={[longitude]}\n\t\t\t\t\t\t\t\t\t\t\tlabel='Longitude'\n\t\t\t\t\t\t\t\t\t\t\tname='description.location.longitude'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t<DescriptiveNote />\n\t\t\t\t\t\t<ProjectNote changeFunc={this.props.change}/>\n\t\t\t\t\t</Segment.Group>\n\n\t\t\t\t\t<Header as=\"h2\">Sources</Header>\n\t\t\t\t\t<SegmentRepeater\n\t\t\t\t\t\tfieldArrayName=\"sources.bibl\"\n\t\t\t\t\t\theaderLabel=\"\"\n\t\t\t\t\t\tcomponentLabel=\"Source\"\n\t\t\t\t\t\tRepeatableComponent={EntityLookup}\n\t\t\t\t\t\tbuttonLabel='Add Source'\n\t\t\t\t\t\tentityType='title'\n\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Field key=\"non_field_errors\"\n\t\t\t\t\t\tname=\"non_field_errors\"\n\t\t\t\t\t\tcomponent={({meta: {error}}) => {\n\t\t\t\t\t\t\treturn error ? (\n\t\t\t\t\t\t\t\t<Message error>\n\t\t\t\t\t\t\t\t\t<Message.Header>{'Login failed :('}</Message.Header>\n\t\t\t\t\t\t\t\t\t<p>{error}</p>\n\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div style={{textAlign: 'center'}}>\n\t\t\t\t\t\t{invalid ? (\n\t\t\t\t\t\t\t<Popup size='tiny' position='right center' trigger={\n\t\t\t\t\t\t\t\t<span><Button content=\"Submit\" icon=\"sign in\" disabled={true}/></span>\n\t\t\t\t\t\t\t} content=\"Please fix invalid fields before submitting\"/>\n\t\t\t\t\t\t) : <Button content=\"Submit\" icon=\"sign in\" loading={submitting}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nconst onSubmit = (values, dispatch, props) => {\n\tif (props.isPlaceGetDone && props.entityId !== undefined) {\n\t\treturn props.putPlace(props.entityId, values)\n\t} else {\n\t\treturn props.postPlace(values)\n\t}\n}\n\nconst validate = values => {\n\tconst errors = {}\n\tif (values.description && values.description.dates) {\n\t\terrors.description = {\n\t\t\tdates: []\n\t\t}\n\t\tfor (const date of values.description.dates) {\n\t\t\tconst error = dateRange(date)\n\t\t\tif (error !== undefined) {\n\t\t\t\terrors.description.dates.push(error)\n\t\t\t}\n\t\t}\n\t}\n\treturn errors\n}\n\n// i.e. model -> view\nconst mapStateToProps = state => {\n\treturn {\n\t\tinitialValues: getPlaceGetData(state),\n\t\tentityId: getEntityId(state),\n\t\tgetCollectionId: getCollectionId('place'),\n\n\t\tisPlacePostDone: isPlacePostDone(state),\n\t\tisPlacePostPending: isPlacePostPending(state),\n\t\tisPlacePostError: isPlacePostError(state),\n\t\tgetPlacePostError: getPlacePostError(state),\n\t\tgetPlacePostData: getPlacePostData(state),\n\n\t\tisPlaceGetDone: isPlaceGetDone(state),\n\t\tisPlaceGetPending: isPlaceGetPending(state),\n\t\tisPlaceGetError: isPlaceGetError(state),\n\t\tgetPlaceGetError: getPlaceGetError(state),\n\t\tgetPlaceGetData: getPlaceGetData(state),\n\n\t\tisPlacePutDone: isPlacePutDone(state),\n\t\tisPlacePutPending: isPlacePutPending(state),\n\t\tisPlacePutError: isPlacePutError(state),\n\t\tgetPlacePutError: getPlacePutError(state),\n\t\tgetPlacePutData: getPlacePutData(state)\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tasync getPlace (id) {\n\t\t\treturn dispatch(GET_PLACE(id))\n\t\t},\n\t\tasync putPlace (id, data) {\n\t\t\treturn dispatch(PUT_PLACE(id, data))\n\t\t},\n\t\tasync postPlace (data) {\n\t\t\treturn dispatch(POST_PLACE(data))\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxForm({\n\tform: 'PLACE_FORM',\n\tvalidate,\n\tonSubmit\n})(PlaceComponent))\n","// @flow\nimport React from 'react'\nimport PlaceForm from './components/PlaceForm.jsx'\nimport {Helmet} from 'react-helmet'\n\nconst PlaceEdit = ({login, errors}: Props) => {\n\treturn (\n\t\t<div>\n\t\t\t<Helmet>\n\t\t\t\t<title>CWRC: Place Entity</title>\n\t\t\t</Helmet>\n\t\t\t<PlaceForm />\n\t\t</div>\n\t)\n}\n\nexport default PlaceEdit\n","// @flow\nimport React, {Component} from 'react'\nimport {\n\tForm,\n\tHeader,\n\tMessage,\n\tGrid,\n\tButton,\n\tSegment,\n\tDimmer,\n\tLoader,\n\tPopup,\n\tRail\n} from 'semantic-ui-react'\nimport {connect} from 'react-redux'\nimport {\n\treduxForm,\n\tinitialize,\n\tField\n} from 'redux-form'\n\nimport IdentityGroup from '../../components/IdentityGroup'\nimport {DescriptiveNote, ProjectNote} from '../../components/NotesGroup'\nimport {DropdownComponent, InputField} from '../../components/FormControls'\nimport SegmentRepeater from '../../components/SegmentRepeater'\nimport DateRepeater from '../../components/DateRepeater'\nimport EntityLookup from '../../components/EntityLookup'\nimport MessageDialog from '../../components/MessageDialog'\nimport CollectionsDialog from '../../components/CollectionsDialog'\nimport {getCollectionId} from '../../../../api/CollectionsSvc'\n\nimport {nonPersonVariantTypeOptions, nonPersonDateTypeOptions, factualityOptions, certaintyOptions} from '../../components/options'\nimport {dateRange} from '../../components/FieldValidation'\n\nimport { BroadcastChannel } from 'broadcast-channel'\n\nimport type {FormProps} from 'redux-form'\n\nimport {\n\tgetEntityId,\n\n\tisOrganizationPostDone,\n\tisOrganizationPostPending,\n\tisOrganizationPostError,\n\tgetOrganizationPostError,\n\tgetOrganizationPostData,\n\n\tisOrganizationGetDone,\n\tisOrganizationGetPending,\n\tisOrganizationGetError,\n\tgetOrganizationGetError,\n\tgetOrganizationGetData,\n\n\tisOrganizationPutDone,\n\tisOrganizationPutPending,\n\tisOrganizationPutError,\n\tgetOrganizationPutError,\n\tgetOrganizationPutData} from '../../../../selectors'\n\nimport {GET_ORGANIZATION, PUT_ORGANIZATION, POST_ORGANIZATION} from '../../../../actions/entities'\n\ntype Props = FormProps\n\nclass OrganizationComponent extends Component<Props, State> {\n\tcloseForm = (id) => {\n\t\tconst channel = new BroadcastChannel('cwrc-entity-management-forms')\n\t\tchannel.postMessage(id)\n\t\tchannel.close()\n\t}\n\n\tcomponentWillMount () {\n\t\tconst entityId = this.props.entityId\n\t\tif (entityId !== undefined) {\n\t\t\tthis.props.getOrganization(entityId)\n\t\t}\n\t}\n\n\tshouldComponentUpdate (nextProps, nextState) {\n\t\tconst values = nextProps.initialValues\n\t\tif (values) {\n\t\t\tif (values.identity.variants) {\n\t\t\t\tvalues.identity.variants.forEach(vr => {\n\t\t\t\t\tlet match = false\n\t\t\t\t\tfor (let v of nonPersonVariantTypeOptions) {\n\t\t\t\t\t\tif (v.value === vr.type) {\n\t\t\t\t\t\t\tmatch = true\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tnonPersonVariantTypeOptions.push({\n\t\t\t\t\t\t\tkey: vr.type, value: vr.type, text: vr.type\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\n\trender () {\n\t\tconst {handleSubmit, invalid, submitting} = this.props\n\n\t\treturn (\n\t\t\t<Segment basic>\n\t\t\t\t{this.props.isOrganizationPostDone ? (\n\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\theader=\"Entity Created!\"\n\t\t\t\t\t\tcontent={<p>New entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.getOrganizationPostData.data.pid + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.getOrganizationPostData.data.pid}</a></p>}\n\t\t\t\t\t\tonClose={this.closeForm.bind(this, this.props.getOrganizationPostData.data.pid)}\n\t\t\t\t\t/>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isOrganizationPutDone ? (\n\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\theader=\"Entity Edited!\"\n\t\t\t\t\t\tcontent={<p>Entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.getOrganizationPutData.data.pid + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.getOrganizationPutData.data.pid}</a></p>}\n\t\t\t\t\t\tonClose={this.closeForm.bind(this, this.props.getOrganizationPutData.data.pid)}\n\t\t\t\t\t/>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isOrganizationGetPending ? (\n\t\t\t\t\t<Dimmer active inverted>\n\t\t\t\t\t\t<Loader inverted>Loading Organization</Loader>\n\t\t\t\t\t</Dimmer>\n\t\t\t\t) : ''}\n\t\t\t\t{this.props.isOrganizationGetError\n\t\t\t\t\t? (this.props.getOrganizationGetError.message === 'locked' ? (\n\t\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\t\theader=\"Entity is Locked!\"\n\t\t\t\t\t\t\tcontent={<p>The entity <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.entityId + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.entityId}</a> is locked and therefore cannot be edited.</p>}\n\t\t\t\t\t\t\tonClose={this.closeForm.bind(this, undefined)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<MessageDialog\n\t\t\t\t\t\t\theader=\"Error Loading Entity!\"\n\t\t\t\t\t\t\tcontent={<p>An error occurred when loading the entity: <a href={process.env.REACT_APP_ENTITIES_HOST + '/islandora/object/' + this.props.entityId + '/manage/datastreams'} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.entityId}</a><br/>It is probably encoded in an unsupported format and therefore cannot be edited.</p>}\n\t\t\t\t\t\t\tonClose={this.closeForm.bind(this, undefined)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)) : ''}\n\t\t\t\t{this.props.entityId === undefined && this.props.getCollectionId === undefined ? (\n\t\t\t\t\t<CollectionsDialog entityType=\"organization\"/>\n\t\t\t\t) : ''}\n\t\t\t\t<Form onSubmit={handleSubmit} error={invalid}>\n\n\t\t\t\t\t<Header as=\"h2\">Identity</Header>\n\n\t\t\t\t\t<IdentityGroup\n\t\t\t\t\t\tentityType=\"organization\"\n\t\t\t\t\t\tnameOptions={null}\n\t\t\t\t\t\tvariantOptions={nonPersonVariantTypeOptions}\n\t\t\t\t\t\tcertaintyOptions={certaintyOptions}\n\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Header as=\"h2\">Description</Header>\n\n\t\t\t\t\t<Segment.Group>\n\t\t\t\t\t\t<DateRepeater\n\t\t\t\t\t\t\tfieldArrayName=\"description.dates\"\n\t\t\t\t\t\t\theaderLabel=\"Important Date(s)\"\n\t\t\t\t\t\t\tcomponentLabel=\"Date\"\n\t\t\t\t\t\t\tdateTypeOptions={nonPersonDateTypeOptions}\n\t\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Header as='h4'>Properties</Header>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Factuality\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.properties.factuality.value\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\toptions={factualityOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\tname='description.properties.factuality.cert'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t<Segment basic>\n\t\t\t\t\t\t\t\t<Grid columns='equal'>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Organization Type\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description.properties.type.value\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Optional\"\n\t\t\t\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\t\t\t\tcomponent={InputField}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tlabel='Certainty'\n\t\t\t\t\t\t\t\t\t\t\tname='description.properties.type.cert'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Optional'\n\t\t\t\t\t\t\t\t\t\t\toptions={certaintyOptions}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={DropdownComponent}/>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t<DescriptiveNote />\n\t\t\t\t\t\t<ProjectNote changeFunc={this.props.change}/>\n\t\t\t\t\t</Segment.Group>\n\n\t\t\t\t\t<Header as=\"h2\">Sources</Header>\n\t\t\t\t\t<SegmentRepeater\n\t\t\t\t\t\tfieldArrayName=\"sources.bibl\"\n\t\t\t\t\t\theaderLabel=\"\"\n\t\t\t\t\t\tcomponentLabel=\"Source\"\n\t\t\t\t\t\tRepeatableComponent={EntityLookup}\n\t\t\t\t\t\tbuttonLabel='Add Source'\n\t\t\t\t\t\tentityType='title'\n\t\t\t\t\t\tchangeFunc={this.props.change}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Field key=\"non_field_errors\"\n\t\t\t\t\t\tname=\"non_field_errors\"\n\t\t\t\t\t\tcomponent={({meta: {error}}) => {\n\t\t\t\t\t\t\treturn error ? (\n\t\t\t\t\t\t\t\t<Message error>\n\t\t\t\t\t\t\t\t\t<Message.Header>{'Login failed :('}</Message.Header>\n\t\t\t\t\t\t\t\t\t<p>{error}</p>\n\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div style={{textAlign: 'center'}}>\n\t\t\t\t\t\t{invalid ? (\n\t\t\t\t\t\t\t<Popup size='tiny' position='right center' trigger={\n\t\t\t\t\t\t\t\t<span><Button content=\"Submit\" icon=\"sign in\" disabled={true}/></span>\n\t\t\t\t\t\t\t} content=\"Please fix invalid fields before submitting\"/>\n\t\t\t\t\t\t) : <Button content=\"Submit\" icon=\"sign in\" loading={submitting}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nconst onSubmit = (values, dispatch, props) => {\n\tif (props.isOrganizationGetDone && props.entityId !== undefined) {\n\t\treturn props.putOrganization(props.entityId, values)\n\t} else {\n\t\treturn props.postOrganization(values)\n\t}\n}\n\nconst validate = values => {\n\tconst errors = {}\n\tif (values.description && values.description.dates) {\n\t\terrors.description = {\n\t\t\tdates: []\n\t\t}\n\t\tfor (const date of values.description.dates) {\n\t\t\tconst error = dateRange(date)\n\t\t\tif (error !== undefined) {\n\t\t\t\terrors.description.dates.push(error)\n\t\t\t}\n\t\t}\n\t}\n\treturn errors\n}\n\n// i.e. model -> view\nconst mapStateToProps = state => {\n\treturn {\n\t\tinitialValues: getOrganizationGetData(state),\n\t\tentityId: getEntityId(state),\n\t\tgetCollectionId: getCollectionId('organization'),\n\n\t\tisOrganizationPostDone: isOrganizationPostDone(state),\n\t\tisOrganizationPostPending: isOrganizationPostPending(state),\n\t\tisOrganizationPostError: isOrganizationPostError(state),\n\t\tgetOrganizationPostError: getOrganizationPostError(state),\n\t\tgetOrganizationPostData: getOrganizationPostData(state),\n\n\t\tisOrganizationGetDone: isOrganizationGetDone(state),\n\t\tisOrganizationGetPending: isOrganizationGetPending(state),\n\t\tisOrganizationGetError: isOrganizationGetError(state),\n\t\tgetOrganizationGetError: getOrganizationGetError(state),\n\t\tgetOrganizationGetData: getOrganizationGetData(state),\n\n\t\tisOrganizationPutDone: isOrganizationPutDone(state),\n\t\tisOrganizationPutPending: isOrganizationPutPending(state),\n\t\tisOrganizationPutError: isOrganizationPutError(state),\n\t\tgetOrganizationPutError: getOrganizationPutError(state),\n\t\tgetOrganizationPutData: getOrganizationPutData(state)\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tasync getOrganization (id) {\n\t\t\treturn dispatch(GET_ORGANIZATION(id))\n\t\t},\n\t\tasync putOrganization (id, data) {\n\t\t\treturn dispatch(PUT_ORGANIZATION(id, data))\n\t\t},\n\t\tasync postOrganization (data) {\n\t\t\treturn dispatch(POST_ORGANIZATION(data))\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxForm({\n\tform: 'ORG_FORM',\n\tvalidate,\n\tonSubmit\n})(OrganizationComponent))\n","// @flow\nimport React from 'react'\nimport OrganizationForm from './components/OrganizationForm.jsx'\nimport {Helmet} from 'react-helmet'\n\nconst OrganizationEdit = ({login, errors}: Props) => {\n\treturn (\n\t\t<div>\n\t\t\t<Helmet>\n\t\t\t\t<title>CWRC: Organization Entity</title>\n\t\t\t</Helmet>\n\t\t\t<OrganizationForm />\n\t\t</div>\n\t)\n}\n\nexport default OrganizationEdit\n","// @flow\nimport {Route, Redirect} from 'react-router-dom'\nimport _ from 'lodash'\n\nimport Dashboard from '../containers/Dashboard'\nimport NotFound from '../containers/NotFound'\n\nimport Person from '../containers/EntityForm/Person'\nimport Place from '../containers/EntityForm/Place'\nimport Organization from '../containers/EntityForm/Organization'\n\nimport type {RouteItem} from 'types'\n\nconst routeRoot = process.env.REACT_APP_ENTITIES_FORMS_PATH;\n\nfunction routingFnCreator (useFor: 'sidebar' | 'routing' | 'meta' | 'all' = 'all') {\n\tconst sidebarExternalLinks = [\n\t\t// {\n\t\t// \texternal: true,\n\t\t// \tpath: 'http://cwrc.ca',\n\t\t// \tmeta: {\n\t\t// \t\tsidebarVisible: true,\n\t\t// \t\ticon: 'home',\n\t\t// \t\tname: 'CWRC'\n\t\t// \t}\n\t\t// }\n\t]\n\n\tconst routes: Array<RouteItem> = [\n\t\t{\n\t\t\tpath: `${routeRoot}`,\n\t\t\texact: true,\n\t\t\ttag: Route,\n\t\t\tcomponent: Dashboard,\n\t\t\tmeta: {\n\t\t\t\ticon: 'tasks',\n\t\t\t\tname: 'Dashboard'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: `${routeRoot}person`,\n\t\t\texact: false,\n\t\t\ttag: Route,\n\t\t\tcomponent: Person,\n\t\t\tmeta: {\n\t\t\t\tname: 'Add a Person',\n\t\t\t\tnameEdit: 'Edit a Person',\n\t\t\t\ticon: 'user'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: `${routeRoot}place`,\n\t\t\texact: false,\n\t\t\ttag: Route,\n\t\t\tcomponent: Place,\n\t\t\tmeta: {\n\t\t\t\tname: 'Add a Place',\n\t\t\t\tnameEdit: 'Edit a Place',\n\t\t\t\ticon: 'world'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: `${routeRoot}organization`,\n\t\t\texact: false,\n\t\t\ttag: Route,\n\t\t\tcomponent: Organization,\n\t\t\tmeta: {\n\t\t\t\tname: 'Add an Organization',\n\t\t\t\tnameEdit: 'Edit an Organization',\n\t\t\t\ticon: 'users'\n\t\t\t}\n\t\t}\n\t\t// Find the way to add/remove routes conditionally\n/*\n\t\t{\n\t\t\ttag: Route,\n\t\t\tcomponent: NotFound,\n\t\t\tmeta: {\n\t\t\t\tname: '404'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttag: Redirect,\n\t\t\tto: '/'\n\t\t}\n*/\n\t]\n\n\tconst fns = {\n\t\t// Returns routing for sidebar menu\n\t\tsidebar (x: Array<RouteItem> = routes.concat(sidebarExternalLinks)) {\n\t\t\treturn x\n\t\t\t\t.filter(a => a.meta && a.meta.sidebarVisible)\n\t\t\t\t.map(a => _.pick(a, ['path', 'meta', 'external', 'strict', 'exact']))\n\t\t},\n\t\t// Returns routing for React-Router\n\t\trouting (x: Array<RouteItem> = routes) {\n\t\t\treturn x\n\t\t\t\t.filter(a => a.tag)\n\t\t\t\t.map(a =>\n\t\t\t\t\t_.pick(a, [\n\t\t\t\t\t\t'path',\n\t\t\t\t\t\t'strict',\n\t\t\t\t\t\t'exact',\n\t\t\t\t\t\t'component',\n\t\t\t\t\t\t'tag',\n\t\t\t\t\t\t'to'\n\t\t\t\t\t])\n\t\t\t\t)\n\t\t},\n\t\t// Returns `meta` + path. used in Header\n\t\tmeta (x: Array<RouteItem> = routes) {\n\t\t\treturn x\n\t\t\t\t.filter(a => a.tag)\n\t\t\t\t.map(a =>\n\t\t\t\t\t_.pick(a, [\n\t\t\t\t\t\t'path',\n\t\t\t\t\t\t'strict',\n\t\t\t\t\t\t'exact',\n\t\t\t\t\t\t'meta'\n\t\t\t\t\t])\n\t\t\t\t)\n\t\t},\n\t\tall () {\n\t\t\treturn routes\n\t\t}\n\t}\n\n\treturn fns[useFor]\n}\n\nexport const getRoutes = routingFnCreator()\nexport const getMetaRoutes = routingFnCreator('meta')\nexport const getSidebarRoutes = routingFnCreator('sidebar')\nexport const getRouterRoutes = routingFnCreator('routing')\n","/**\n * @flow\n */\nimport React from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter, matchPath} from 'react-router'\nimport _ from 'lodash'\nimport {TOGGLE_SIDEBAR} from '../../../actions/layout'\nimport {\n\tStyledHeader,\n\tHeaderInner,\n\tPageTitle\n} from './style'\nimport {Icon} from 'semantic-ui-react'\nimport {Spacer} from '../../../styles/base'\nimport {getMetaRoutes} from '../../../routing'\nimport {getLayoutMobileStatuses, getEntityId} from '../../../selectors'\n\ntype Props = {\n\ttitle: string,\n\ticon: string,\n\tisLoggedIn: boolean,\n\tisMobile: boolean\n}\n\nconst Header = ({title, icon, isLoggedIn, isMobile}: Props) => {\n\treturn (\n\t\t<StyledHeader>\n\t\t\t<HeaderInner>\n\t\t\t\t<PageTitle><Icon name={icon} size='large'/>&#160;{title}</PageTitle>\n\t\t\t\t<Spacer />\n\t\t\t</HeaderInner>\n\t\t</StyledHeader>\n\t)\n}\n\nconst mapStateToProps = (state, props) => {\n\tconst {location: {pathname}} = props\n\tconst currentRoute = _.find(getMetaRoutes(), a => matchPath(pathname, a)) || {}\n\tif (currentRoute.meta === undefined) {\n\t\tconsole.warn(\"couldn't find current route!\")\n\t\tcurrentRoute.meta = {\n\t\t\tname: 'Title'\n\t\t}\n\t}\n\tconst entityId = getEntityId(state)\n\tlet title\n\tif (entityId && currentRoute.meta.nameEdit) {\n\t\ttitle = currentRoute.meta.nameEdit\n\t} else {\n\t\ttitle = currentRoute.meta.name\n\t}\n\tconst icon = currentRoute.meta.icon\n\tconst {isMobile} = getLayoutMobileStatuses(state)\n\treturn {\n\t\ttitle,\n\t\ticon,\n\t\tisMobile\n\t}\n}\n\nconst mapDispatchToProps = dispatch => ({\n\ttoggleSidebar () {\n\t\tdispatch(TOGGLE_SIDEBAR())\n\t}\n})\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header))\n","// @flow\nexport const UI_TOGGLE_SIDEBAR = 'UI_TOGGLE_SIDEBAR'\nexport const UI_WINDOW_RESIZE = 'UI_WINDOW_RESIZE'\n\nexport const TOGGLE_SIDEBAR = () => ({\n\ttype: UI_TOGGLE_SIDEBAR\n})\n\nexport const WINDOW_RESIZE = (innerWidth: number) => ({\n\ttype: UI_WINDOW_RESIZE,\n\tpayload: {\n\t\tinnerWidth\n\t}\n})\n\nexport type UI_TOGGLE_SIDEBAR_TYPE = {type: 'UI_TOGGLE_SIDEBAR'}\nexport type UI_WINDOW_RESIZE_TYPE = {\n\ttype: 'UI_WINDOW_RESIZE',\n\tpayload: {innerWidth: number}\n}\n","/**\n * @flow\n */\nimport React from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router'\nimport {Switch} from 'react-router-dom'\nimport _ from 'lodash'\nimport type {RouteItem} from '../../../types'\n\ntype Props = {\n\troutesToRender: RouteItem[],\n\troutes: RouteItem[]\n}\n\nconst RoutingWrapper = (props: Props) => {\n\tconst {routesToRender} = props\n\t// render components that are inside Switch (main view)\n\tconst routesRendered = routesToRender.map((a: RouteItem, i) => {\n\t\t// Get tag for Route.\n\t\tconst Tag = a.tag\n\t\treturn (\n\t\t\t<Tag\n\t\t\t\tkey={i}\n\t\t\t\t{..._.pick(a, 'component', 'path', 'exact', 'strict', 'to')}\n\t\t\t/>\n\t\t)\n\t})\n\n\treturn <Switch>{routesRendered}</Switch>\n}\n\nfunction mapStateToProps (state, props) {\n\tconst {routes} = props\n\tconst onlyRealRoutes = routes.filter(a => a.component)\n\tconst onlyRedirects = routes.filter(a => a.to)\n\tconst routesToRender = onlyRealRoutes.concat(onlyRedirects)\n\n\treturn {\n\t\troutesToRender\n\t}\n}\n\nexport default connect(mapStateToProps)(withRouter(RoutingWrapper))\n","// @flow\nimport {\n\tUI_TOGGLE_SIDEBAR,\n\tUI_WINDOW_RESIZE\n} from '../../actions/layout'\nimport {LOCATION_CHANGE} from '../../actions/common'\nimport type {LOCATION_CHANGE_TYPE} from '../../actions/common'\nimport type {\n\tUI_TOGGLE_SIDEBAR_TYPE,\n\tUI_WINDOW_RESIZE_TYPE\n} from '../../actions/layout'\n\nexport type State = {\n\tsidebarOpened: boolean,\n\tinnerWidth?: number\n}\n\ntype Action =\n\t| UI_TOGGLE_SIDEBAR_TYPE\n\t| UI_WINDOW_RESIZE_TYPE\n\t| LOCATION_CHANGE_TYPE\n\nexport const initialState: State = {\n\tsidebarOpened: false\n}\n\nexport function layout (state: State = initialState, action: Action): State {\n\tswitch (action.type) {\n\tcase UI_WINDOW_RESIZE: {\n\t\tconst {innerWidth} = action.payload\n\t\treturn {\n\t\t\t...state,\n\t\t\tinnerWidth\n\t\t}\n\t}\n\tcase UI_TOGGLE_SIDEBAR:\n\t\treturn {\n\t\t\t...state,\n\t\t\tsidebarOpened: !state.sidebarOpened\n\t\t}\n\tcase LOCATION_CHANGE:\n\t\treturn {\n\t\t\t...state,\n\t\t\tsidebarOpened: false\n\t\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n","// @flow\nimport typeToReducer from 'type-to-reducer'\nimport { PENDING, FULFILLED, REJECTED } from 'redux-promise-middleware'\n\nexport type State = {\n    status: 'none' | 'pending' | 'done' | 'error',\n    error: Object,\n    data: Object\n}\n\nconst initialState : State = {\n\tstatus: 'none',\n\terror: null,\n\tdata: null\n}\n\nconst PERSON_POST_TYPE = 'PERSON_POST'\nconst PERSON_PUT_TYPE = 'PERSON_PUT'\nconst PERSON_GET_TYPE = 'PERSON_GET'\n\nconst PLACE_POST_TYPE = 'PLACE_POST'\nconst PLACE_GET_TYPE = 'PLACE_GET'\nconst PLACE_PUT_TYPE = 'PLACE_PUT'\n\nconst ORGANIZATION_POST_TYPE = 'ORGANIZATION_POST'\nconst ORGANIZATION_GET_TYPE = 'ORGANIZATION_GET'\nconst ORGANIZATION_PUT_TYPE = 'ORGANIZATION_PUT'\n\nconst promiseReducers = {\n\t[PENDING]: () => ({...initialState, status: 'pending'}),\n\t[REJECTED]: (state, action) => ({...initialState, status: 'error', error: action.payload}),\n\t[FULFILLED]: (state, action) => ({...initialState, status: 'done', data: action.payload})\n}\n\nexport const personGet = typeToReducer({\n\t[ PERSON_GET_TYPE ]: promiseReducers\n}, initialState)\n\nexport const personPut = typeToReducer({\n\t[ PERSON_PUT_TYPE ]: promiseReducers\n}, initialState)\n\nexport const personPost = typeToReducer({\n\t[ PERSON_POST_TYPE ]: promiseReducers\n}, initialState)\n\nexport const placeGet = typeToReducer({\n\t[ PLACE_GET_TYPE ]: promiseReducers\n}, initialState)\n\nexport const placePut = typeToReducer({\n\t[ PLACE_PUT_TYPE ]: promiseReducers\n}, initialState)\n\nexport const placePost = typeToReducer({\n\t[ PLACE_POST_TYPE ]: promiseReducers\n}, initialState)\n\nexport const organizationGet = typeToReducer({\n\t[ ORGANIZATION_GET_TYPE ]: promiseReducers\n}, initialState)\n\nexport const organizationPut = typeToReducer({\n\t[ ORGANIZATION_PUT_TYPE ]: promiseReducers\n}, initialState)\n\nexport const organizationPost = typeToReducer({\n\t[ ORGANIZATION_POST_TYPE ]: promiseReducers\n}, initialState)\n","const actionCreator = status => ({\n\tdispatch,\n\tACTION_NAME,\n\tgetState,\n\t...rest\n}) => {\n\tdispatch({type: `${ACTION_NAME}_${status.toUpperCase()}`, ...rest})\n}\n\nconst getDefaultBehaviours = () => {\n\tconst actions = [\n\t\t'pending',\n\t\t'success',\n\t\t'fail',\n\t\t'finally'\n\t].map(a => {\n\t\treturn {[a]: actionCreator(a)}\n\t})\n\n\tconst id = a => a\n\tconst ids = ['meta', 'check', 'fnPayload', 'transformResult', 'resolve'].map(\n\t\ta => ({\n\t\t\t[a]: id\n\t\t})\n\t)\n\n\treturn actions.concat(ids).reduce((a, b) => {\n\t\treturn Object.assign({}, a, b)\n\t})\n}\n\n/**\n  Create default Awral\n  Awral is not recommended for production usage now\n  But it can make your work with actions even simpler.\n  NOTE: I strongly recommend you check Awral sources!\n  Awral is 910 bytes gzipped!\n  {@link https://github.com/Metnew/awral}\n*/\nfunction Awral (asyncFunction) {\n\treturn ACTION_NAME => (...args) => async (dispatch, getState) => {\n\t\tconst basicArgs = {dispatch, getState, ACTION_NAME}\n\t\tconst meta = this.meta.apply(basicArgs, args) || null\n\t\tconst defaultArgs = {...basicArgs, meta}\n\n\t\tif (this.failBeforePending) {\n\t\t\tconst failBeforePendingPayload = this.failBeforePending.apply(\n\t\t\t\tdefaultArgs,\n\t\t\t\targs\n\t\t\t)\n\t\t\tif (failBeforePendingPayload) {\n\t\t\t\treturn this.fail({\n\t\t\t\t\t...defaultArgs,\n\t\t\t\t\tpayload: failBeforePendingPayload,\n\t\t\t\t\terror: true\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tthis.pending && this.pending(defaultArgs)\n\t\tconst fnPayload = this.fnPayload.apply(defaultArgs, args)\n\t\t// FIXME: We should catch errors inside\t`asyncFunction`\n\t\t// try {} catch (e) {}\n\t\tconst res = await asyncFunction(fnPayload)\n\t\tconst isSuccess = this.check(res)\n\t\tconst status = isSuccess ? {success: true} : {error: true}\n\t\tconst payload = this.transformResult(res)\n\n\t\tif (isSuccess) {\n\t\t\tthis.success({...defaultArgs, payload})\n\t\t} else {\n\t\t\tthis.fail({...defaultArgs, payload, error: true})\n\t\t}\n\t\tthis.finally && this.finally(defaultArgs)\n\t\treturn this.resolve({payload, status})\n\t}\n}\n\nconst ofFn = function (newBehaviours = {}) {\n\tconst behaviours = {...this.behaviours, ...newBehaviours}\n\tconst bindedAwral = Awral.bind(behaviours)\n\tbindedAwral.behaviours = behaviours\n\tbindedAwral.of = ofFn.bind(bindedAwral)\n\treturn bindedAwral\n}\n\nexport default ofFn.call({behaviours: getDefaultBehaviours()})\n","// @flow\nimport Awral from './awral'\n/**\n * `parseJSON()` adds property \"ok\"\n *  that identicates that response is OK\n *\n *  This func to determinates is response from API was successful or failed\n *\n * @param  {Object} result - response from API\n * @return {Boolean} - indicates was request successful or not\n */\nconst check = (result: Object = {ok: false}): boolean => result.ok\n// see ./awral\nconst failBeforePending = null\nconst transformResult = a => a.data\n// disable dispatch of *_FINALLY actions\nconst finallyAction = null\n\n/**\n  Create default Awral\n  Awral is not recommended for production usage now\n  But it can make your work with actions even simpler.\n  NOTE: I strongly recommend you check Awral's sources!\n  Awral is 910 bytes gzipped!\n  some docs here: {@link https://github.com/Metnew/awral}\n*/\nexport const awral = Awral.of({check, failBeforePending, transformResult, finally: finallyAction})\n","// @flow\nimport {post} from '../../api/utils'\n\nexport type LoginDataType = {\n\tusername: string,\n\tpassword: string\n}\n\nexport async function loginAPI (data: LoginDataType) {\n\treturn post('/auth', data)\n}\n","// @flow\nimport {awral} from '../../actions/utils'\nimport {loginAPI} from '../../api/AuthSvc'\nimport {setLocalToken, resetLocalToken} from '../../api/LocalStorageCookiesSvc'\n\nexport const LOGIN_AUTH_SUCCESS = 'LOGIN_AUTH_SUCCESS'\nexport const LOGIN_AUTH_FAIL = 'LOGIN_AUTH_FAIL'\n\nexport type LOGIN_AUTH_SUCCESS_TYPE = {\n\ttype: 'LOGIN_AUTH_SUCCESS',\n\tpayload: {token: string}\n}\nexport type LOGIN_AUTH_FAIL_TYPE = {\n\ttype: 'LOGIN_AUTH_FAIL',\n\tpayload: {errors: Object}\n}\n\nexport const LOGOUT_AUTH_SUCCESS = 'LOGOUT_AUTH_SUCCESS'\nexport type LOGOUT_AUTH_SUCCESS_TYPE = {type: 'LOGOUT_AUTH_SUCCESS'}\n\n/**\n  Awral is not recommended for production usage now\n  But it can make your work with actions even simpler.\n  NOTE: I strongly recommend you check Awral's sources!\n  Awral is 910 bytes gzipped!\n  {@link https://github.com/Metnew/awral}\n*/\nconst awralLogin = awral.of({\n\tpending: null,\n\tsuccess ({payload, dispatch}) {\n\t\tsetLocalToken(payload.token)\n\t\tdispatch({type: LOGIN_AUTH_SUCCESS, payload})\n\t}\n})\n\nexport const LOGIN_AUTH = awralLogin(loginAPI)('LOGIN_AUTH')\n\nexport const LOGOUT_AUTH = () => dispatch => {\n\tresetLocalToken()\n\tdispatch({type: LOGOUT_AUTH_SUCCESS})\n}\n","// @flow\nimport Cookies from 'js-cookie'\n// By default, we don't use localStorage, but store2 is already installed\n// import store from 'store2'\nexport const JWT_TOKEN = 'JWT_TOKEN'\n\nexport function getLocalToken (): string | null {\n\treturn Cookies.get(JWT_TOKEN)\n}\n\nexport function resetLocalToken () {\n\tCookies.remove(JWT_TOKEN)\n}\n\nexport function setLocalToken (token: string) {\n\tCookies.set(JWT_TOKEN, token, {expires: 365})\n}\n\nexport const isLoggedIn = () => !!getLocalToken()\n","// @flow\nimport {isLoggedIn as hasLocalToken} from '../../api/LocalStorageCookiesSvc'\nimport {\n\tLOGIN_AUTH_FAIL,\n\tLOGIN_AUTH_SUCCESS,\n\tLOGOUT_AUTH_SUCCESS\n} from '../../actions/auth'\nimport {APPLICATION_INIT} from '../../actions/common'\n\nimport type {\n\tLOGIN_AUTH_FAIL_TYPE,\n\tLOGIN_AUTH_SUCCESS_TYPE,\n\tLOGOUT_AUTH_SUCCESS_TYPE\n} from '../../actions/auth'\nimport type {APPLICATION_INIT_TYPE} from '../../actions/common'\n\nexport type State = {\n\tisLoggedIn: boolean\n}\n\ntype Action =\n\t| APPLICATION_INIT_TYPE\n\t| LOGIN_AUTH_FAIL_TYPE\n\t| LOGIN_AUTH_SUCCESS_TYPE\n\t| LOGOUT_AUTH_SUCCESS_TYPE\n\nexport const initialState: State = {\n\tisLoggedIn: hasLocalToken()\n}\n\nexport function auth (state: State = initialState, action: Action): State {\n\tswitch (action.type) {\n\tcase APPLICATION_INIT:\n\t\treturn {...initialState, ...state}\n\tcase LOGOUT_AUTH_SUCCESS: {\n\t\treturn {\n\t\t\t...state,\n\t\t\tisLoggedIn: false\n\t\t}\n\t}\n\tcase LOGIN_AUTH_FAIL: {\n\t\treturn {\n\t\t\t...state,\n\t\t\tisLoggedIn: false\n\t\t}\n\t}\n\tcase LOGIN_AUTH_SUCCESS: {\n\t\treturn {\n\t\t\t...state,\n\t\t\tisLoggedIn: true\n\t\t}\n\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n","// @flow\nimport {combineReducers} from 'redux'\nimport {routerReducer} from 'react-router-redux'\nimport {reducer as reduxFormReducer} from 'redux-form'\n\nimport type {State as AuthState} from 'reducers/auth'\nimport type {State as LayoutState} from 'reducers/layout'\nimport type {State as EntityState} from 'reducers/entities'\n\nimport {layout} from './layout'\nimport {personGet, personPut, personPost, placeGet, placePut, placePost, organizationGet, organizationPost, organizationPut} from './entities'\nimport {auth} from './auth'\n\n// Root reducer\nexport default combineReducers({\n\tlayout,\n\tauth,\n\tentities: combineReducers({\n\t\tperson: combineReducers({\n\t\t\tget: personGet,\n\t\t\tput: personPut,\n\t\t\tpost: personPost\n\t\t}),\n\t\tplace: combineReducers({\n\t\t\tget: placeGet,\n\t\t\tput: placePut,\n\t\t\tpost: placePost\n\t\t}),\n\t\torganization: combineReducers({\n\t\t\tget: organizationGet,\n\t\t\tput: organizationPut,\n\t\t\tpost: organizationPost\n\t\t})\n\t}),\n\trouting: routerReducer,\n\tform: reduxFormReducer\n})\n\nexport type GlobalState = {layout: LayoutState} & {auth: AuthState} &\n    {\n        entities: {\n            person: {\n                get: EntityState,\n                put: EntityState,\n                post: EntityState\n            },\n            place: {\n                get: EntityState,\n                put: EntityState,\n                post: EntityState\n            },\n            organization: {\n                get: EntityState,\n                put: EntityState,\n                post: EntityState\n            }\n        }\n    }\n","// @flow\nexport const LOCATION_CHANGE = '@@router/LOCATION_CHANGE'\nexport type LOCATION_CHANGE_TYPE = {\n\ttype: '@@router/LOCATION_CHANGE',\n\tpayload: {\n\t\tpathname: string\n\t}\n}\n// XXX: DONT USE INTERNAL REDUX STUFF! e.g. @@INIT is an internal action\n// export const APP_INIT = '@@INIT'\nexport const APPLICATION_INIT = 'APPLICATION_INIT'\nexport type APPLICATION_INIT_TYPE = {\n\ttype: 'APPLICATION_INIT'\n}\n","// @flow\nimport React from 'react'\nimport {render} from 'react-snapshot'\n\nimport {ThemeProvider} from 'styled-components'\nimport theme from './styles/theme'\n// import 'semantic-ui-css/semantic.css'\nimport './semantic/dist/semantic.css'\n// import './styles/global'\n\nimport {PageLayout, MainLayout, MainContent, MainContainer} from './containers/App/style'\nimport Footer from './components/parts/Footer'\nimport Header from './components/parts/Header'\n\nimport {createBrowserHistory} from 'history'\n\nimport {Provider} from 'react-redux'\nimport {ConnectedRouter} from 'react-router-redux'\n\nimport RoutingWrapper from './components/addons/RoutingWrapper'\nimport {getRouterRoutes, getRoutes} from './routing'\n\nimport type {GlobalState} from './reducers'\n\nimport configureStore from './app/configureStore'\n\nconst initialState: GlobalState = window.__INITIAL_STATE__ || {}\n\nconst history = createBrowserHistory()\n\nconst store = configureStore(initialState, history)\n\nconsole.log('__INITIAL_STATE__:', initialState)\nrender(\n\t<Provider store={store} key={Date.now()}>\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t<PageLayout>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<MainLayout>\n\t\t\t\t\t\t<MainContent>\n\t\t\t\t\t\t\t<MainContainer>\n\t\t\t\t\t\t\t\t<RoutingWrapper routes={getRouterRoutes(getRoutes())} />\n\t\t\t\t\t\t\t</MainContainer>\n\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t</MainContent>\n\t\t\t\t\t</MainLayout>\n\t\t\t\t</PageLayout>\n\t\t\t</ConnectedRouter>\n\t\t</ThemeProvider>\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n","// @flow\nimport thunk from 'redux-thunk'\nimport {createStore, applyMiddleware, compose} from 'redux'\nimport {routerMiddleware} from 'react-router-redux'\nimport promiseMiddleware from 'redux-promise-middleware'\nimport rootReducer from '../../reducers'\n\nconst isPromise = value => value !== null && typeof value === 'object' && typeof value.then === 'function'\n\nconst showErrors = true\n\nexport default (initialState: Object, history: History) => {\n\tconst middlewares = []\n\n\t// https://stackoverflow.com/a/44139604\n\tmiddlewares.push(() => next => action => {\n\t\tif (!isPromise(action.payload)) {\n\t\t\treturn next(action)\n\t\t}\n\n\t\tif (!action.meta || !action.meta.localError) {\n\t\t\treturn next(action).catch(error => {\n\t\t\t\tif (showErrors) {\n\t\t\t\t\tconsole.warn(`${action.type} unhandled rejection caught at middleware with reason: ${JSON.stringify(error.message)}.`)\n\t\t\t\t}\n\t\t\t\treturn error\n\t\t\t})\n\t\t}\n\t})\n\n\tmiddlewares.push(thunk)\n\tmiddlewares.push(routerMiddleware(history))\n\tmiddlewares.push(promiseMiddleware())\n\n\tconst enhancers = middlewares.map(a => applyMiddleware(a))\n\tconst getComposeFunc = () => {\n\t\treturn compose\n\t}\n\tconst composeFunc = getComposeFunc()\n\tconst composedEnhancers = composeFunc.apply(null, enhancers)\n\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposedEnhancers\n\t)\n\n\treturn store\n}\n","export default {\n\tprimaryColorDark: '#2E2A25',\n\tprimaryColor: '#AC1E35',\n\tprimaryColorLight: '#55565A',\n\tprimaryColorText: '#FFFFFF',\n\taccentColor: '#cc0000',\n\tprimaryTextColor: '#3f3f3f',\n\tsecondaryTextColor: '#3f3f3f',\n\tdividerColor: '#BDBDBD'\n}\n"],"sourceRoot":""}